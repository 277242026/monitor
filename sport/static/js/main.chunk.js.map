{"version":3,"sources":["components/common/table/queryCond.js","components/common/form/field.js","biz/common/fields/money.js","biz/common/fields/phone.js","interfaces/interfaces.js","components/select/index.js","components/icon/index.js","entry/index/routes/modals/loginModal.js","entry/index/routes/modals/hotline.js","entry/index/routes/Menu.js","entry/index/routes/IndexPage.js","common/common.js","components/common/table/grid.js","components/common/table/table.js","components/common/form/form.js","components/common/index.js","biz sync /^/.*/index/.js$","biz/bill/queryBill/index.js","biz/operate/ballRoom/index.js","biz/operate/memberBill/index.js","biz/sys/optLog/index.js","biz/sys/sysRole/index.js","biz/sys/sysUser/index.js","biz/task/index.js","biz/train/coach/index.js","biz/common/fields/coach.js","biz/train/student/addStudentModal.js","biz/common/fields/sportType.js","biz/train/student/studentConsumeModal.js","biz/train/student/index.js","biz/common/indicates/area.js","components/pops/saveParams.js","biz/common/indicates/index.js","components/pops/editableField.js","biz/contact/contact.js","biz/contact/index.js","biz/operate/member/addMemberModal.js","biz/operate/member/memberConsumeModal.js","biz/operate/member/index.js","registerServiceWorker.js","index.js"],"names":["antd_es_form__WEBPACK_IMPORTED_MODULE_15__","Item","QueryCond","_this","Object","G_projects_sport_sport_web_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_9__","this","_len","arguments","length","args","Array","_key","_super","call","apply","concat","getQueryParam","beforeQuery","state","formValues","onQueryCondQuery","e","key","type","emitter","emit","props","config","queryParam","k","trim","util","_convertFormValues","getExtButtons","extButtons","queryCond","isArray","on","setState","_this2","conditions","react__WEBPACK_IMPORTED_MODULE_16___default","a","createElement","className","map","idx1","antd_es_row__WEBPACK_IMPORTED_MODULE_5__","condition","idx2","curConditon","fields","forEach","field","assign","label","antd_es_col__WEBPACK_IMPORTED_MODULE_7__","sm","_form_field__WEBPACK_IMPORTED_MODULE_17__","getField","G_projects_sport_sport_web_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_8__","options","onChange","v","onKeyDown","placeholder","size","hideButtons","antd_es_button__WEBPACK_IMPORTED_MODULE_1__","onClick","antd_es_icon__WEBPACK_IMPORTED_MODULE_3__","Component","create","antd_es_radio__WEBPACK_IMPORTED_MODULE_16__","Button","antd_es_form__WEBPACK_IMPORTED_MODULE_14__","Option","antd_es_select__WEBPACK_IMPORTED_MODULE_12__","Field","G_projects_sport_sport_web_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_6__","disabled","optType","editableInModify","enums","mode","multi","undefined","react__WEBPACK_IMPORTED_MODULE_17___default","multiple","value","text","dictCode","_select__WEBPACK_IMPORTED_MODULE_18__","TextArea","antd_es_input__WEBPACK_IMPORTED_MODULE_5__","rows","antd_es_date_picker__WEBPACK_IMPORTED_MODULE_3__","format","showTime","getComponent","antd_es_input_number__WEBPACK_IMPORTED_MODULE_1__","BizComponent","G_projects_sport_sport_web_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_4__","amountTags","color","_this$props","name","form","react__WEBPACK_IMPORTED_MODULE_9___default","Fragment","antd_es_input_number__WEBPACK_IMPORTED_MODULE_3__","rules","required","message","min","precision","it","antd_es_tag__WEBPACK_IMPORTED_MODULE_1__","isNaN","amount","validateFields","convertToChinaNum","G_projects_sport_sport_web_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_2__","react__WEBPACK_IMPORTED_MODULE_7___default","antd_es_input__WEBPACK_IMPORTED_MODULE_1__","validator","test","__webpack_require__","d","__webpack_exports__","domain","prefix","productPrefix","urlPrefix","window","location","href","indexOf","isProd","hash","envTag","url","startsWith","isDebug","cannotDo","allMetaData","CommonSelect","filter","item","excludeValues","includeValues","desc","showKey","renderDesc","withTitle","antd_es_select__WEBPACK_IMPORTED_MODULE_1__","title","getStringValue","withAll","allText","defaultProps","appCode","components_icon","_react_16_14_0_react_default","aria-hidden","TestModal","classCallCheck","handleLogin","validFields","registerTag","assertThisInitialized","values","phone","pass","groupIds","ajaxJson","getPrefix","noErrAlert","result","success","errMsg","res","data","sessionStorage","setItem","id","noNeedRefreshCurrentMenu","minAjax","visible","error","toRegister","handleCancel","_ref","account","body","getItem","pwd","formItemLayout","labelCol","xs","span","wrapperCol","_this$state","modal","wrapClassName","width","onCancel","maskClosable","footer","es_button","es_form","input","bind","onPressEnter","SubMenu","menu","getTitleByKey","icon","loginMenus","lm","children","lc","changeCurrentMenu","current","handleClick","localStorage","menus","parentCode","sort","b","num","menuObj","JSON","parse","ext","code","subMenus","subIt","lastActiveMenuKey","openKeys","onOpenChange","selectedKeys","inlineIndent","loop","rooms","role","allRoles","allStaffs","urls","coaches","isAdmin","TabPane","tabs","IndexPage","initUserInfo","tenantId","init","setTimeout","onMenuClick","comp","require","default","panes","activeKey","fps","p","push","content","onTabChange","refs","indexMenu","onTabEdit","targetKey","action","_this$state2","user","userName","_this$state3","Menu_BizComponent","ref","hideAdd","onEdit","pane","Comp","tab","asyncToGenerator","regenerator_default","mark","_callee","wrap","_context","prev","next","ajaxJsonAsync","reload","stop","loginModal_TestModal","EventEmitter","setMaxListeners","emitterOn","listner","removeAllListeners","ons","_parentUtil","cond","parent","parentNode","document","classList","contains","matched","styles","getComputedStyle","_showFieldError","target","isValid","msg","currentFormItemControl","formItem","remove","explain","querySelector","childNodes","innerText","add","errorMsgEl","tagName","onfocus","style","display","onblur","appendChild","_getFormElementByFieldName","fieldName","ognlPrefix","pContainer","eles","querySelectorAll","getUniqClassName","idPrefix","newEles","i","_triggerFieldValidation","context","cb","asyncCount","rule","contextVal","onlyOnce","err","Error","isFormFiledsValid","replace","fieldProp","getEventTargetValue","noChineseSymbol","fv","antd_es_message__WEBPACK_IMPORTED_MODULE_2__","warn","checked","startOf","endOf","getSubField","_this3","substring","clearValidateFields","hasOwnProperty","fieldVal","valueOf","callback","_this4","vf","validateKeys","vkey","validCount","valid","newFormValues","formValue","_isAMomentObject","formatDate","showFieldError","component","ops","form2js","nameValues","skipEmpty","j","l","nameParts","currResult","arrNameFull","arrName","arrIdx","namePart","_nameParts","arrays","sortedNameValues","keys","_i2","_keys","split","match","substr","js2form","obj","results","_js2formResults","formObj","lvl","Date","_getSubValues","subObj","itemName","tempItem","tempResult","ajax","successCallback","async","xhrFields","withCredentials","xhr","response","post","errorCallback","dataStr","preEnv","stringify","G_projects_sport_sport_web_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_0__","contentType","failMessage","Promise","isEmpty","convertStr2Num","mask","domElement","getElementById","maskElement","unmask","date","shortYear","y","getFullYear","M","getMonth","getDate","h","getHours","m","getMinutes","s","getSeconds","guid","c","r","Math","random","toString","getShortDate","timestamp","short","now","getTime","abs","fd","setAllNum2Str","tuomin","count","isChinese","repeat","dotStr","RegExp","$1","exec","arr1","arr2","english","des_i","encode","str","btoa","unescape","encodeURIComponent","decode","decodeURIComponent","escape","atob","getJSONString","eval","getJSON","paramObj","removeCommentFromJSON","e1","getCookie","cookies","cookie","parts","shift","join","pushAt","arr","idx","newArr","throttle","delay","no_trailing","debounce_mode","timeout_id","last_exec","that","elapsed","clearTimeout","debounce","at_begin","initXMLhttp","xmlhttp","XMLHttpRequest","ActiveXObject","sign","md5","debugLog","dataType","onreadystatechange","readyState","status","responseText","errorInfo","rspContentType","getResponseHeader","rsp","errors","info","sendString","sendData","tmpArr","String","prototype","datum","FormData","open","beforeSend","send","setRequestHeader","Grid","handleTableChange","pagination","filters","sorter","fetchDataAjax","onRowClick","record","index","loading","ajaxMethod","queryCondParam","defineProperty","currentPageName","pageSizeName","pageSize","queryCondHandler","resultHandler","tableData","total","totalName","unmount","queryEmitter","retainPagintion","defaultPageSize","columns","dataIndex","fixed","render","lazyInit","initQueryCond","table","rowKey","rowSelection","dataSource","onRow","scroll","bordered","rowClassName","expandedRowRender","expandIcon","expandRowByClick","expandedRowKeys","BizTable","f","notInTable","column","enumObj","_this$props$config$ap","api","updateInterface","deleteInterface","canDelete","operationAddon","canModify","popconfirm","onConfirm","params","beforeDelete","func","operationPreAddon","splice","grid_Grid","queryInterface","es_radio","FormItem","BizForm","es_select","handleSubmit","fieldsValue","beforeSubmit","hideLoading","insertInterface","rec","resultType","delayQueryTable","afterSubmit","beforeCancel","shouldFieldDisplay","shouldDisplay","notInAdd","isRequired","hiddenFields","isHiddenInForm","notInForm","formFields","formData","beforeShowDialog","beforeModify","beforeAdd","col","modalTitle","dialog","hiddenField","objectSpread","row","tooltip","es_col","form_field","BizIndex","getForm","components","keyword","onlyUseForm","_react_16_14_0_react","justify","table_queryCond","wrappedComponentRef","table_BizTable","form_BizForm","./bill/queryBill/index.js","./common/indicates/index.js","./contact/index.js","./operate/ballRoom/index.js","./operate/member/index.js","./operate/memberBill/index.js","./sys/optLog/index.js","./sys/sysRole/index.js","./sys/sysUser/index.js","./task/index.js","./train/coach/index.js","./train/student/index.js","webpackContext","req","webpackContextResolve","resolve","module","exports","antd_es_date_picker__WEBPACK_IMPORTED_MODULE_1__","getFormData","list","totalItem","_components_common__WEBPACK_IMPORTED_MODULE_11__","G_projects_sport_sport_web_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__","staffs","react__WEBPACK_IMPORTED_MODULE_5___default","_components_common__WEBPACK_IMPORTED_MODULE_9__","rs","reg","resArr","resStr","customers","owner_name","contentObj","start_time","company_name","customer_name","antd_es_popconfirm__WEBPACK_IMPORTED_MODULE_1__","okText","cancelText","finish_time","antd_es_message__WEBPACK_IMPORTED_MODULE_3__","_components_common__WEBPACK_IMPORTED_MODULE_13__","showPrice","unitPrice","handleOk","existData","billType","remainTimes","focus","abrupt","sent","confirm","onOk","doReportStudent","_x","roomId","destroyOnClose","money","coach_BizComponent","input_number","onCoachChange","coach","Coach","times","consumeTimes","consumeAmount","studyTime","moment","courses","sportType_BizComponent","coachId","date_picker","refreshExpandRow","memberId","recDs","upload","fileList","file","useEmpty","pops","expanded","recordCount","indent","components_common","addStudentModal","studentConsumeModal","provK","pca","provName","cityK","pcaa","provs","citys","countys","prov","city","county","el","areaUi","showSearch","optionFilterProp","allowClear","getDisplayText","CommonComp","storageItemKey","onLoad","onSave","top","left","right","bottom","zIndex","position","paramArr","loadParams","paramArrRevers","saveParamName","t","paramsStr","popover","trigger","getIndicates","indicates","indicatesMap","_loop","indicate","newK","disableSearch","doSearch","reserveBtn","onSearch","showSearchConds","tag","closable","onClose","stopPropagation","preventDefault","getTagContent","saveParams_CommonComp","onSaveCond","onCollapse","indicatesUi","collapse","defaultActiveKey","Panel","header","mouseEnterDelay","enumItem","RangePicker","area_BizComponent","onEditClick","onBlur","onCall","callee","preProps","contactType","BizComp","parentContainer","Consumer","contacts","contact","editableField_CommonComp","mobile_no","BizContext","React","createContext","Provider","contact_BizComp","isVip","memberType","applyTime","consumeNow","es_switch","checkedChildren","unCheckedChildren","es_checkbox","expireTime","addMemberModal","memberConsumeModal","isLocalhost","Boolean","hostname","registerValidSW","swUrl","navigator","serviceWorker","register","then","registration","onupdatefound","installingWorker","installing","onstatechange","controller","console","log","catch","script","src","head","ReactDOM","URL","process","origin","addEventListener","fetch","headers","get","ready","unregister","checkValidServiceWorker","registerServiceWorker"],"mappings":"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","file":"static/js/main.chunk.js","sourcesContent":["import React, {Component} from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Form, Input, Row, Col, Button, DatePicker,Select,Icon } from 'antd';\r\nimport Field from '../form/field';\r\nimport {emitter,util} from '../../../common/common.js';\r\nconst FormItem = Form.Item;\r\nclass QueryCond extends Component {\r\n  constructor(...args) {\r\n    super(...args);\r\n    emitter.on(`set${this.props.config.key}QueryCondForm`,queryCond=>{\r\n      this.setState({formValues:queryCond});\r\n    });\r\n    this.state={\r\n      formValues:{}\r\n    };\r\n  }\r\n  getQueryParam=()=>{\r\n    return this.beforeQuery(this.state.formValues);\r\n  }\r\n  onQueryCondQuery=(e)=>{\r\n    if(!e || e.key == 'Enter' || e.type=='click'){\r\n      emitter.emit(`query${this.props.config.key}Table`, this.beforeQuery(this.state.formValues));\r\n    }\r\n  }\r\n  beforeQuery=(queryParam)=>{\r\n    if(queryParam){\r\n      for(let k in queryParam){\r\n        if(queryParam[k] && typeof queryParam[k] == 'string'){\r\n          queryParam[k] = queryParam[k].trim();\r\n        }\r\n        if(queryParam[k] === ''){\r\n          delete queryParam[k];\r\n        }\r\n      }\r\n    }\r\n    queryParam=util._convertFormValues(queryParam);\r\n    return queryParam;\r\n  }\r\n  getExtButtons=()=>{\r\n    let {extButtons}=this.props.config.queryCond;\r\n    if(extButtons){\r\n      if(typeof extButtons == 'function'){\r\n        return extButtons();\r\n      }else if(Array.isArray(extButtons)){\r\n        return extButtons;\r\n      }\r\n    }\r\n  }\r\n  render(){\r\n    if(!this.props.config.queryCond || !this.props.config.queryCond.conditions || this.props.config.queryCond.conditions.length <= 0){\r\n      return <div></div>;\r\n    }\r\n    return (\r\n    <Form className=\"ant-advanced-search-form queryCond\">\r\n      {this.props.config.queryCond.conditions.map((conditions,idx1)=>{\r\n        return (<Row key={idx1}>\r\n          {conditions.map((condition,idx2)=>{\r\n            if(!condition){\r\n              return;\r\n            }\r\n            let curConditon;\r\n            this.props.config.fields.forEach(field=>{\r\n              if(field.key == condition.key){\r\n                curConditon = Object.assign({},field);\r\n              }\r\n            });\r\n            if(!curConditon){// fields中未找到匹配，则用自己\r\n              curConditon = condition;\r\n            }else if(condition.type == 'custom'){\r\n              curConditon.label&&(condition.label=curConditon.label);\r\n              curConditon = condition;\r\n            }\r\n            condition.label&&(curConditon.label=condition.label);\r\n            return (<Col key={idx2} sm={6}><span className=\"label\">{curConditon.label}：</span>\r\n            <Field {...util.getField.call(this,curConditon.key,{...curConditon.options, onChange:v=>{\r\n              if(curConditon.onChange){\r\n                curConditon.onChange(v,this.state.formValues);// 把当前queryForm值给到conditions\r\n              }\r\n            }})} field={curConditon} onKeyDown={this.onQueryCondQuery} placeholder={curConditon.placeholder} size={this.props.config.queryCond.size}/>\r\n          </Col>);\r\n          })}\r\n        </Row>);\r\n      })}\r\n      {!this.props.config.queryCond.hideButtons&&<Row>\r\n        <Col sm={8}>\r\n            <Button type=\"primary\" className=\"search-button\" onClick={this.onQueryCondQuery} size={this.props.config.queryCond.size}><Icon type=\"search\" />搜索</Button>\r\n            <Button type=\"ghost\" className=\"search-button\" onClick={()=>{\r\n              this.setState({formValues:{}});\r\n            }} size={this.props.config.queryCond.size}><Icon type=\"close-square\" />清除</Button>\r\n            {this.getExtButtons()}\r\n        </Col>\r\n      </Row>}\r\n    </Form>);\r\n  }\r\n}\r\nQueryCond = Form.create({\r\n})(QueryCond);\r\nexport default QueryCond;\r\n","import React,{Component} from 'react';\r\nimport {\r\n  Form,\r\n  Input,\r\n  Button,\r\n  Checkbox,\r\n  Radio,\r\n  Tooltip,\r\n  Icon,\r\n  Select,\r\n  Modal,\r\n  message,\r\n  Cascader,\r\n  DatePicker,\r\n  InputNumber,\r\n  Col,\r\n  Row\r\n} from 'antd';\r\nimport CommonSelect from '../../select';\r\nimport {emitter,util} from '../../../common/common';\r\nconst RadioButton = Radio.Button;\r\nconst FormItem = Form.Item;\r\nconst Option = Select.Option;\r\nexport default class Field extends Component {\r\n  constructor(...args) {\r\n    super(...args);\r\n  }\r\n\r\n  render(){\r\n    let {field} = this.props;\r\n    let disabled = this.props.optType == 'modify' && field.editableInModify === false;\r\n    let props = Object.assign({},this.props);\r\n    delete props.field;\r\n    delete props.optType;\r\n    if(field.enums){\r\n      let {enums}=field;\r\n      if(typeof enums=='function')enums=enums();\r\n      let mode=field.multi?'multiple':undefined;\r\n      return (<Select multiple={field.multi} disabled={disabled} mode={mode} {...props}>{enums.map(e=>{\r\n        let key,value;\r\n        key=Array.isArray(e)?e[0]:(typeof e == 'string' ? e : e.key);\r\n        value=Array.isArray(e)?e[1]:(typeof e == 'string' ? e : e.text);\r\n        return <Option key={key} value={key+''}>{value}</Option>;\r\n      })}</Select>);\r\n    }else if(field.dictCode){\r\n      return (<CommonSelect {...field} {...props}/>);\r\n    }else if(field.type=='textarea'){\r\n      let TextArea = Input.TextArea;\r\n      if(!TextArea)TextArea=Input;\r\n      return (<TextArea type=\"textarea\" rows={field.rows?field.rows:4} disabled={disabled} {...props}/>);\r\n    }else if(field.type=='date'){\r\n      return (<DatePicker format=\"YYYY-MM-DD\" disabled={disabled} {...props}/>);\r\n    }else if(field.type=='datetime'){\r\n      return (<DatePicker showTime format=\"YYYY-MM-DD HH:mm:ss\" disabled={disabled} {...props}/>);\r\n    }else if(field.type=='custom'){\r\n      return field.getComponent(props);\r\n    }else if(field.type=='number'){\r\n      return (<InputNumber disabled={disabled} onKeyDown={this.props.onKeyDown} {...props}/>);\r\n    }else{\r\n      return (<Input disabled={disabled} onKeyDown={this.props.onKeyDown} {...props}/>);\r\n    }\r\n  }\r\n}","import React, { Component } from 'react';\r\nimport {message,Input,Modal,Button,Form,Select,Collapse,Popconfirm,Tooltip,Popover,DatePicker,InputNumber,Tag } from 'antd';\r\nimport { emitter, util } from '../../../common/common';\r\nimport './index.less';\r\nexport default class BizComponent extends Component {\r\n    constructor(...args) {\r\n        super(...args);\r\n    }\r\n    amountTags=[{color:'blue',value:50},{color:'cyan',value:100},{color:'green',value:200},{color:'gold',value:500},{color:'orange',value:1000}];\r\n    render() {\r\n        let {name,form}=this.props;\r\n        let {formValues}=form.state;\r\n        return <>\r\n            <InputNumber {...util.getField.call(form,name?name:'amount',{rules:[{required:true,message:'必填'}]})} min={0} precision={0}/>\r\n            {this.amountTags.map(it=><Tag key={'tag'+it.value} color={it.color} onClick={()=>{\r\n            let {formValues}=form.state;\r\n            if(isNaN(formValues.amount))formValues.amount=0;\r\n            formValues.amount=formValues.amount+it.value;\r\n            form.setState({formValues},()=>util.validateFields.call(form,()=>{},['amount']));\r\n            }}>{it.value}</Tag>)}\r\n            {formValues.amount>0&&util.convertToChinaNum(formValues.amount)&&<span className=\"amount-tip\">{util.convertToChinaNum(formValues.amount)}元</span>}\r\n        </>;\r\n    }\r\n}","import React, { Component } from 'react';\r\nimport {message,Input,Modal,Button,Form,Select,Collapse,Popconfirm,Tooltip,Popover,DatePicker,InputNumber,Tag } from 'antd';\r\nimport { emitter, util } from '../../../common/common';\r\nexport default class BizComponent extends Component {\r\n    constructor(...args) {\r\n        super(...args);\r\n    }\r\n    render() {\r\n        let {name,form,required}=this.props;\r\n        return <>\r\n            <Input {...util.getField.call(form,name?name:'phone',{rules:[{required:required===undefined?true:required,message:'必填'},{validator:v=>{\r\n                if(!v)return true;\r\n                return /^1[0-9]{10}$/.test(v);\r\n              },message:'必须为1开头的11位手机号'}]})} />\r\n        </>;\r\n    }\r\n}","\r\n/**\r\n * 接口管理模块\r\n */\r\nexport let domain = 'localhost:8184';\r\nexport let productDomain = '47.118.49.154';\r\nif(window.location.href.indexOf('47.118.49.154')>-1){\r\n\tdomain=productDomain;\r\n}\r\n\r\nwindow.isProd=function(){\r\n\tif(window.location.hash=='#pre'||window.location.hash=='#presync'){\r\n\t    return false;\r\n\t}\r\n\treturn window.envTag && window.envTag.indexOf('product') > -1 || isProductUrl(domain);\r\n};\r\nwindow.isDebug=function(){\r\n\treturn window.location.hash&&window.location.hash.indexOf('.debug') > -1;\r\n}\r\nwindow.cannotDo=function(){\r\n\treturn window.isProd();\r\n};\r\n\r\nlet basePathSuffix='flow/biz/';\r\n\r\nexport let prefix = '//' + domain + '/';\r\nexport let productPrefix = '//' + productDomain + '/';\r\n\r\nexport function isProductUrl(url){\r\n\treturn url&&!url.startsWith('pre')&&url.indexOf('alibaba-inc.com') > -1;\r\n}\r\nconst interfacesData = {\r\n    \r\n};\r\n\r\nlet interfaces = interfacesData;\r\n\r\nexport default interfaces;\r\nexport let urlPrefix = prefix + basePathSuffix;\r\nexport let urlProductPrefix = productPrefix+basePathSuffix;","import React, {Component, PropTypes} from 'react';\r\nimport {Select,message } from 'antd';\r\nimport {util,emitter} from '../../common/common';\r\nimport {prefix,domain,productDomain,productPrefix} from '../../interfaces/interfaces';\r\n\r\nexport const allMetaData = {\r\n  \r\n};\r\nexport const allDictData = {};\r\n\r\nexport default class CommonSelect extends Component {\r\n  static defaultProps = {\r\n      appCode : '',\r\n      allText : '请选择'\r\n  };\r\n  constructor(...args) {\r\n    super(...args);\r\n  }\r\n\r\n  render(){\r\n    let options = (allMetaData[this.props.dictCode] || []).filter(item=>{\r\n      if(this.props.excludeValues && this.props.excludeValues.length>0 && this.props.excludeValues.indexOf(item.key) > -1){\r\n        return false;\r\n      }\r\n      if(this.props.includeValues){\r\n        if(this.props.includeValues.length>0 && this.props.includeValues.indexOf(item.key) > -1){\r\n          return true;\r\n        }else{\r\n          return false;\r\n        }\r\n      }\r\n      return true;\r\n    }).map(item=>{\r\n      let {desc} = item;\r\n      let {showKey,renderDesc,withTitle} = this.props;\r\n      if(showKey){\r\n        desc = desc + `[${item.key}]`;\r\n      }else if(renderDesc){\r\n        desc = renderDesc(item);\r\n      }\r\n      return (<Select.Option title={desc} key={item.key + ''} value={util.getStringValue(item.key)}>{desc}</Select.Option>)\r\n    });\r\n    let value = util.getStringValue(this.props.value);\r\n    if(this.props.mode === 'multiple'){\r\n      value = this.props.value;\r\n    }\r\n    return (\r\n        <Select {...Object.assign({},this.props,{value})}>  \r\n          {this.props.withAll ? [<Select.Option key=\"\" value=\"\">{this.props.allText}</Select.Option>].concat(options) : options}\r\n        </Select>);\r\n  }\r\n}","import React from 'react';\r\nexport default function(props){\r\n\treturn <svg className=\"icon\" aria-hidden=\"true\">\r\n\t    <use href={'#'+props.type}></use>\r\n\t</svg>;\r\n}","import React,{Component} from 'react';\r\nimport {message,Input,Modal,Button,Form,Select} from 'antd';\r\nimport '../index.less';\r\nimport {util,emitter,minAjax} from '../../../../common/common';\r\nimport {prefix,productPrefix,isProductUrl} from '../../../../interfaces/interfaces';\r\nimport {allMetaData} from '../../../../components/select';\r\n\r\nexport default class TestModal extends Component {\r\n  constructor(...args) {\r\n  \tsuper(...args);\r\n  \temitter.on('goto-login', ({config,body})=>{\r\n      let account = window.sessionStorage.getItem('account');\r\n      let pwd = window.sessionStorage.getItem('pwd');\r\n  \t\tthis.setState({visible:true,registerTag:undefined,formValues:{account,pwd},url:config.url,config});\r\n\r\n      // if(body){\r\n      //   let url=JSON.parse(body).url;\r\n      //   let urlPrefix = url.substring(0,url.indexOf('reffer='));\r\n      //   let targetUrl;\r\n      //   if(isProductUrl(config.url)){\r\n      //     targetUrl=productPrefix+'fbi/api/v1/ssoagentlogin/jumplogin?reffer='+encodeURIComponent('http:'+productPrefix.substring(0,productPrefix.length-1)+'?target='+encodeURIComponent(window.location.href));\r\n      //   }else{\r\n      //     targetUrl=urlPrefix+'reffer='+encodeURIComponent(prefix+'fbi/api/v1/index?target='+encodeURIComponent(window.location.href));\r\n      //   }\r\n      //   window.location.href=targetUrl;\r\n      // }\r\n  \t});\r\n  \tthis.state={\r\n\r\n  \t};\r\n  }\r\n\r\n  handleLogin=()=>{\r\n    let {registerTag} = this.state;\r\n    let validFields;\r\n    if(registerTag){\r\n      validFields = ['name','phone','pass','pwd1','groupIds'];\r\n    }else{\r\n      validFields = ['phone','pass'];\r\n    }\r\n    util.validateFields.call(this,values=>{\r\n      let {phone,name,pass,groupIds} = values;\r\n      if(registerTag){\r\n        // util.ajaxJson(this.getPrefix()+'flow/user/register',{account,name,pass,groupIds:JSON.stringify(groupIds)},res=>{\r\n        //   if(res.success && !res.errMsg){\r\n        //     message.success('注册成功!');\r\n        //     window.sessionStorage.setItem('name',name);\r\n        //     window.sessionStorage.setItem('groupIds',JSON.stringify(groupIds));\r\n        //     window.location.reload();\r\n        //   }else{\r\n        //     message.error(res.errMsg);\r\n        //   }\r\n        // });\r\n      }else{\r\n        util.ajaxJson(this.getPrefix()+'flow/biz/login',{phone,pass,noErrAlert:true},result=>{\r\n          if(result.success && !result.errMsg){\r\n            let res=result.data[0];\r\n            window.sessionStorage.setItem('name',res.name);\r\n            window.sessionStorage.setItem('userId',res.id);\r\n            window.sessionStorage.setItem('phone',res.phone);\r\n            emitter.emit('init');\r\n            if(!window.noNeedRefreshCurrentMenu){\r\n              emitter.emit('fc-settlement-refreshcurrentmenu');\r\n            }\r\n            minAjax(this.state.config);\r\n            this.setState({visible:false});\r\n          }else{\r\n            message.error(result.errMsg);\r\n          }\r\n        });\r\n      }\r\n      \r\n    },validFields);\r\n  }\r\n\r\n  getPrefix=()=>{\r\n    let {url} = this.state;\r\n    if(!url || !productPrefix){\r\n      return prefix;\r\n    }\r\n    if(url.startsWith(productPrefix)){\r\n      return productPrefix;\r\n    }\r\n    return prefix;\r\n  }\r\n\r\n  toRegister=()=>{\r\n    this.setState({registerTag:true});\r\n  }\r\n\r\n  handleCancel=()=>{\r\n    this.setState({visible:false});\r\n  }\r\n\r\n  render() {\r\n    const formItemLayout = {\r\n      labelCol: {\r\n        xs: { span: 24 },\r\n        sm: { span: 6 },\r\n      },\r\n      wrapperCol: {\r\n        xs: { span: 24 },\r\n        sm: { span: 16 },\r\n      },\r\n    };\r\n    let {formValues,registerTag} = this.state;\r\n  \treturn (<Modal wrapClassName=\"login-modal\" title={registerTag?'注册':'欢迎来到祈云科技，请先登陆'} visible={this.state.visible} width={400} onCancel={this.handleCancel} maskClosable={false}\r\n          footer={[\r\n            <Button key=\"login\" type=\"primary\" onClick={this.handleLogin}>{registerTag?'注册':'登录'}</Button>,\r\n            <Button key=\"close\" onClick={this.handleCancel}>关闭</Button>\r\n          ]}>\r\n          <Form id=\"log-container-form\" className=\"login-container\">\r\n            {registerTag&&<Form.Item {...formItemLayout} label=\"姓名\">\r\n              <Input {...util.getField.bind(this)('name',{rules:[{validator:v=>{\r\n                return !!v;\r\n              },message:'必填'}]})}/>\r\n            </Form.Item>}\r\n            <Form.Item {...formItemLayout} label=\"账号(手机号)\">\r\n              <Input {...util.getField.bind(this)('phone',{rules:[{validator:v=>{\r\n                return !!v;\r\n              },message:'必填'},{validator:v=>{\r\n                return /^1[0-9]{10}$/.test(v);\r\n              },message:'必须为1开头的11位手机号'}]})}/>\r\n            </Form.Item>\r\n            <Form.Item {...formItemLayout} label=\"密码\">\r\n              <Input type=\"password\" {...util.getField.bind(this)('pass',{rules:[{validator:v=>{\r\n                return !!v;\r\n              },message:'必填'}]})} onPressEnter={this.handleLogin}/>\r\n            </Form.Item>\r\n            {registerTag&&<div>\r\n              <Form.Item {...formItemLayout} label=\"密码确认\">\r\n                <Input {...util.getField.bind(this)('pwd1',{rules:[{validator:v=>{\r\n                  return !!v;\r\n                },message:'必填'},{validator:v=>{\r\n                  let {formValues} = this.state;\r\n                  return formValues.pwd === v;\r\n                },message:'前后密码不一致'}]})}/>\r\n              </Form.Item>\r\n            </div>}\r\n            <div className=\"register-area\">\r\n              {false&&<a onClick={this.toRegister}>注册</a>}\r\n              {registerTag&&<a onClick={()=>{\r\n                this.setState({registerTag:undefined});\r\n              }}>返回</a>}\r\n            </div>\r\n          </Form>\r\n      </Modal>);\r\n  }\r\n}","import React,{Component} from 'react';\r\nimport {message,Input,Modal,Button} from 'antd';\r\nimport {util,emitter} from '../../../../common/common';\r\nimport {domain} from '../../../../interfaces/interfaces';\r\nimport './index.less';\r\nexport default class BizComp extends Component {\r\n    constructor(...args) {\r\n        super(...args);\r\n        emitter.on('call-out-ccc',(callee,that)=>{\r\n            callee=callee+'';\r\n            if(!(/^1[3456789]\\d{9}$/.test(callee))){\r\n                return message.warning('手机号格式有误，必须为1开头的11位数字');\r\n            }\r\n            if(!window.workbench){\r\n                return message.warning('电话坐席未初始化！');\r\n            }\r\n            let status=window.workbench.getStatus();\r\n            if(status!='ready')return message.warning('电话坐席未初始化成功！');\r\n            window.workbench.call(callee);\r\n            if(that&&that.props&&that.props.onCall)that.props.onCall(callee);\r\n        });\r\n        this.state={\r\n        };\r\n    }\r\n    componentDidMount(){\r\n        setTimeout(this.initHotline,200);\r\n        \r\n    }\r\n\r\n    initHotline=()=>{\r\n        window.workbench = new window.WorkbenchSdk({\r\n            dom: 'workbench',\r\n            instanceId: '62e83165-8999-4462-81b9-7adb13521ab6',\r\n            ajaxOrigin:'//'+domain,\r\n            ajaxPath: '/iflow-proxy/api/v1/crm',\r\n            ajaxMethod: 'post',\r\n            ajaxOtherParams:{isFromCCC:1},\r\n            withCredentials:true,\r\n            exportErrorOfApi:true,\r\n            \r\n            moreActionList:['onlyCall'],\r\n            header: true,\r\n            onInit: function () {\r\n                // window.workbench.register();\r\n            },\r\n            onRegister:function(config){\r\n                // document.querySelector('.next-icon-suoxiao1').click();\r\n            },\r\n            onErrorNotify: function (error) {\r\n              console.warn(error)\r\n            },\r\n            onCallComing: function (aa, bb, cc, dd) {\r\n              console.log(aa, bb, cc, dd);\r\n            },\r\n            onCallDialing: function (aa, bb, cc, dd) {\r\n              let iconEl=document.querySelector('#workbench .next-icon-guaduan');\r\n              if(iconEl&&iconEl.previousElementSibling){\r\n                iconEl.previousElementSibling.style.visibility='hidden';\r\n              }\r\n              let tabContentEl=document.querySelector('.next-tabs-content h1');\r\n              if(tabContentEl){\r\n                tabContentEl.style.visibility='hidden';\r\n              }\r\n            },\r\n            onStatusChange: function (code, lastCode, context){\r\n              console.log(code, lastCode, context);\r\n            },\r\n            onCallRelease: function (connid, caller, privateData) {\r\n                console.log(\"这里是通话结束时触发的回调函数\", connid, caller, privateData)\r\n            }\r\n        });\r\n        document.querySelector('.next-icon-suoxiao1').click();\r\n    }\r\n\r\n    render() {\r\n  \t    return (<div className=\"hotline-widget\">\r\n            <div id=\"workbench\"></div>\r\n          </div>);\r\n    }\r\n}","import React,{Component} from 'react';\r\nimport { Menu, Icon, Switch } from 'antd';\r\nimport IIcon from '../../../components/icon';\r\nimport {role,isAdmin,menus} from './IndexPage';\r\nconst SubMenu = Menu.SubMenu;\r\n\r\nexport default class BizComponent extends Component {\r\n\tconstructor(...args) {\r\n\t\tsuper(...args);\r\n        let loginMenus = menus.filter(it=>!it.parentCode).sort((a,b)=>a.num-b.num).map(it=>{\r\n\t\t\tlet menuObj={title:it.name,icon:JSON.parse(it.ext).icon,key:it.code};\r\n\t\t\tlet subMenus=menus.filter(subIt=>subIt.parentCode==it.code).sort((a,b)=>a.num-b.num).map(it=>({title:it.name,icon:JSON.parse(it.ext).icon,key:it.code}));\r\n\t\t\tmenuObj.children=subMenus;\r\n\t\t\treturn menuObj;\r\n\t\t});\r\n\t\tlet current='operate/member';\r\n\t\tif(!window.isProd()){\r\n\t\t\tlet lastActiveMenuKey=localStorage.getItem('_curActiveMenuKey');\r\n\t\t\tif(lastActiveMenuKey){\r\n\t\t\t\tcurrent=lastActiveMenuKey;\r\n\t\t\t}\r\n\t\t}\r\n    \tthis.state={\r\n    \t\tloginMenus,\r\n      \t\topenKeys:loginMenus.map(it=>it.key),\r\n      \t\tcurrent\r\n    \t};\r\n\t}\r\n\tcomponentDidMount(){\r\n        let {current} = this.state;\r\n\t\tthis.props.onClick(current,undefined, this.getTitleByKey(current));\r\n\t}\r\n    getTitleByKey=key=>{\r\n        let {loginMenus} = this.state;\r\n        let title,icon;\r\n        loginMenus.forEach(lm=>{\r\n\t\t\tif(lm.key==key){\r\n\t\t\t\ttitle = lm.title;\r\n\t\t\t\ticon = lm.icon;\r\n\t\t\t}\r\n            lm.children.forEach(lc=>{\r\n                if(lc.key == key){\r\n\t\t\t\t\ttitle = lc.title;\r\n\t\t\t\t\ticon = lc.icon;\r\n                }\r\n            });\r\n        });\r\n\t\treturn <span className=\"tab-title\"><IIcon type={icon}/>{title}</span>;\r\n    }\r\n    changeCurrentMenu=(current)=>{\r\n        this.setState({\r\n          current\r\n        });\r\n    }\r\n\thandleClick=(e)=>{\r\n\t    this.changeCurrentMenu(e.key);\r\n\t\tthis.props.onClick(e.key,undefined,this.getTitleByKey(e.key));\r\n\t\tif(!window.isProd()){\r\n\t\t\tlocalStorage.setItem('_curActiveMenuKey', e.key);\r\n\t\t}\r\n\t}\r\n\trender() {\r\n\t  \tconst loop = data => data.map(item => {\r\n\t      if (item.children && item.children.length) {\r\n\t        return (<SubMenu key={item.key} title={(()=>{\r\n\t          return <div><IIcon type={item.icon}/>{item.title}</div>;\r\n\t        })()}>{loop(item.children)}</SubMenu>);\r\n\t      }\r\n\t      return <Menu.Item key={item.key}><IIcon type={item.icon} /><span>{item.title}</span></Menu.Item>;\r\n\t\t});\r\n\t\treturn <div className={\"fc-menu-container\"}>\r\n\t\t\t<div className=\"logo-c\"><IIcon type=\"icon-pingpong\"/><span className=\"logo-text\">祈云科技</span></div>\r\n\t\t\t<Menu id=\"fc-menu-container\" onClick={this.handleClick}\r\n\t\t\t\topenKeys={this.state.openKeys}\r\n\t\t\t\tonOpenChange={openKeys=>{\r\n\t\t\t\tthis.setState({openKeys});\r\n\t\t\t\t}}\r\n\t\t\t\tselectedKeys={[this.state.current]}\r\n\t\t\t\tmode=\"inline\"\r\n\t\t\r\n\t\t\t\tinlineIndent={10}\r\n\t\t\t>\r\n\t\t\t\t{loop(this.state.loginMenus)}\r\n\t\t\t</Menu>\r\n\t\t  </div>\r\n\t    ;\r\n\t}\r\n}\r\n","import React,{Component} from 'react';\r\nimport copy from 'copy-to-clipboard';\r\nimport {emitter,util} from '../../../common/common';\r\nimport {urlPrefix,domain,productDomain,isProductUrl} from '../../../interfaces/interfaces';\r\nimport Icon from '../../../components/icon';\r\nimport {message,Popover,Tooltip,Input,Button,Tabs} from 'antd';\r\nimport LoginModal from './modals/loginModal';\r\nimport Hotline from './modals/hotline';\r\nimport Menu from './Menu';\r\nimport './index.less';\r\n// window.onbeforeunload=function(e){     \r\n//     e = window.event||e;  \r\n//     e.returnValue=(\"确定离开当前页面吗？\");\r\n//     return e.returnValue;\r\n// }\r\n\r\nexport let forbiColumns=[];\r\nexport let filterColumns=(cols)=>{\r\n    let filterCols= cols.filter(it=>{\r\n        return forbiColumns.indexOf(it.key)==-1;\r\n    });\r\n    return filterCols;\r\n}\r\nexport let rooms,role,allRoles,allStaffs,menus,urls,coaches;\r\nexport let tenantId=1;\r\nexport let accounts;\r\nexport let isAdmin;\r\n\r\nconst TabPane = Tabs.TabPane;\r\nexport default class IndexPage extends Component {\r\n    constructor(...args) {\r\n        super(...args);\r\n        emitter.on('show-login-user',user=>{\r\n            this.setState({userName:user.name});\r\n        });\r\n        emitter.on('init-user-info',user=>{\r\n            this.initUserInfo();\r\n        });\r\n        emitter.on('main-clickmenu', ({key,props})=>{\r\n            this.refs.indexMenu.changeCurrentMenu(key);\r\n            this.onMenuClick(key,props,this.refs.indexMenu.getTitleByKey(key));\r\n        });\r\n        this.initUserInfo();\r\n        this.state={\r\n            panes:[],\r\n            init:false,\r\n            userName:'游客'\r\n        };\r\n    }\r\n    componentDidMount(){\r\n\r\n    }\r\n\r\n    initUserInfo=()=>{\r\n        util.ajaxJson(urlPrefix+'SysUserFramework?opt=getUserInfo',{},result=>{\r\n            if(result.data){\r\n                rooms=result.data.rooms||[];\r\n                role=result.data.role;\r\n                allRoles=result.data.allRoles;\r\n                allStaffs=result.data.allStaffs;\r\n                menus=result.data.menus;\r\n                urls=result.data.urls;\r\n                coaches=result.data.coaches;\r\n                tenantId=result.data.tenantId;\r\n                isAdmin=role.indexOf(',-1,')>-1;\r\n                emitter.emit('show-login-user',{name:result.data.name});\r\n\r\n                this.setState({init:true},()=>{// 初始化检索条件\r\n                    setTimeout(()=>{\r\n                        emitter.emit('do-indicates-search',{});\r\n                    },500);\r\n                });\r\n            }else{\r\n                message.error('请确认服务是否可用！');\r\n            }\r\n        });\r\n    }\r\n\r\n    onMenuClick=(key, props, title)=>{\r\n        let comp = require(`../../../biz/${key}/index.js`);\r\n        if(comp&&comp.default){\r\n            let {panes,activeKey} = this.state;\r\n            activeKey = key;\r\n            let fps = panes.filter(p=>p.key == key);\r\n            if(fps.length==0){\r\n                panes.push({key,title,content:comp.default,props});\r\n                this.setState({activeKey,panes},()=>{\r\n                    emitter.emit(`menu-clicked-${key}`);\r\n                });\r\n            }else{\r\n                // fps[0].content = undefined;\r\n                // this.setState({activeKey,panes},()=>{\r\n                //     fps[0].content = comp.default;\r\n                //     this.setState({panes},()=>{\r\n                //         emitter.emit(`menu-clicked-${key}`);\r\n                //     });\r\n                // });\r\n                fps[0].content = comp.default;\r\n                this.setState({activeKey},()=>{\r\n                    emitter.emit(`menu-clicked-${key}`);\r\n                });\r\n            }\r\n        }\r\n    }\r\n\r\n    onTabChange = (activeKey) => {\r\n        this.setState({ activeKey },()=>{\r\n            this.refs.indexMenu.changeCurrentMenu(activeKey);\r\n        });\r\n    }\r\n\r\n    onTabEdit = (targetKey, action) => {\r\n        if(action == 'remove'){\r\n            let {panes,activeKey} = this.state;\r\n            panes = panes.filter(p=>p.key!=targetKey);\r\n            if(panes.length > 0){\r\n                if (activeKey == targetKey) {// 删除的是当前tab\r\n                    activeKey = panes[0].key;\r\n                }\r\n            }\r\n            this.refs.indexMenu.changeCurrentMenu(activeKey);\r\n            this.setState({panes,activeKey});\r\n        }\r\n    }\r\n\r\n    render(){\r\n        let {panes,activeKey,init} = this.state;\r\n        if(!init)return <LoginModal />;\r\n        return (\r\n            <div className=\"fc\">\r\n                <div className=\"fc-main\">\r\n                  <Menu onClick={this.onMenuClick} ref=\"indexMenu\"/>\r\n                  <div className=\"fc-container\">\r\n                    <div className=\"fc-header\"></div>\r\n                    <Tabs hideAdd\r\n                      onChange={this.onTabChange}\r\n                      activeKey={activeKey}\r\n                      type={'editable-card'}\r\n                      onEdit={this.onTabEdit}\r\n                    >\r\n                      {\r\n                        panes.map(pane => {\r\n                            let Comp = pane.content;\r\n                            return <TabPane tab={pane.title} key={pane.key}>{Comp && <Comp {...pane.props}/>}</TabPane>;\r\n                        })\r\n                      }\r\n                    </Tabs>\r\n                    <div className=\"login-sec\">欢迎，{this.state.userName} <a className=\"logout-a\" onClick={async ()=>{\r\n                        await util.ajaxJsonAsync(urlPrefix+'loginout');\r\n                        window.location.reload();\r\n                    }}>退出</a></div>\r\n                  </div>\r\n                </div>\r\n                <LoginModal />\r\n\t\t    </div>\r\n\t    );\r\n    }\r\n  \r\n}\r\n\r\n","import {EventEmitter} from 'events';\r\nimport {message,Modal} from 'antd';\r\nimport md5 from 'md5';\r\nimport './reset.less';\r\n let emitter = new EventEmitter();\r\n emitter.setMaxListeners(500);\r\n let emitterOn = emitter.on;\r\n emitter.on = function(type, listner){\r\n     emitter.removeAllListeners(type);\r\n     let args = [type, listner];\r\n     emitterOn.apply(emitter, args);\r\n };\r\n emitter.ons = function(type, listner){\r\n    let args = [type, listner];\r\n    emitterOn.apply(emitter, args);\r\n }\r\n\r\nlet _parentUtil = (current, cond, mode='class') => {\r\n    if(current){\r\n        let parent = current.parentNode;\r\n        while(parent){\r\n            if(parent == document.body){\r\n                return;\r\n            }\r\n            if(mode==='class'){\r\n                if(parent.classList.contains(cond)){\r\n                    return parent;\r\n                } else {\r\n                    parent = parent.parentNode;\r\n                }\r\n            }else if(mode==='style'){\r\n                if(!cond || typeof cond != 'object'){\r\n                    return;\r\n                }\r\n                let matched = false;\r\n                let styles = window.getComputedStyle(parent);\r\n                for(let k in cond){\r\n                    if(styles[k] === cond[k]){\r\n                        matched = true;\r\n                    }\r\n                }\r\n                if(matched){\r\n                    return parent;\r\n                } else {\r\n                    parent = parent.parentNode;\r\n                }\r\n            }\r\n        }\r\n    }\r\n};\r\n\r\nlet _showFieldError = (target, isValid, msg) => {\r\n    if(target){// input框\r\n        let currentFormItemControl = _parentUtil(target, 'ant-form-item-control');\r\n        let formItem = _parentUtil(target, 'ant-form-item');\r\n        let classList = currentFormItemControl.classList;\r\n        if(!isValid){// 校验未通过  \r\n            if(!classList.contains('has-error')){// 不含错误样式\r\n                classList.add('has-error');\r\n                !formItem.classList.contains('ant-form-item-with-help') && formItem.classList.add('ant-form-item-with-help');\r\n                let errorMsgEl = document.createElement('div');\r\n                if (target.tagName == 'INPUT') {\r\n                    target.onfocus=function(){\r\n                        errorMsgEl.style.display='block';\r\n                    };\r\n                    target.onblur=function(){\r\n                        errorMsgEl.style.display='none';\r\n                    };\r\n                }\r\n                \r\n                errorMsgEl.innerText = msg;\r\n                errorMsgEl.classList.add('ant-form-explain');\r\n                errorMsgEl.classList.add('custom-form-invalid-explain');\r\n                currentFormItemControl.appendChild(errorMsgEl);\r\n            }else{\r\n                currentFormItemControl.childNodes[currentFormItemControl.childNodes.length-1].innerText = msg;\r\n            }\r\n        }else{\r\n            classList.remove('has-error');\r\n            let explain = currentFormItemControl.querySelector('.ant-form-explain');\r\n            explain && explain.remove();\r\n            formItem.classList.contains('ant-form-item-with-help') && formItem.classList.remove('ant-form-item-with-help');\r\n        }\r\n    }\r\n}\r\n\r\nlet _getFormElementByFieldName = function(fieldName,ognlPrefix){\r\n    let pContainer = '';\r\n    if(this['__formClassName_']){\r\n        pContainer = '.' + this['__formClassName_'] + ' ';\r\n    }\r\n    let eles = document.querySelectorAll(pContainer+'.'+getUniqClassName(fieldName,this['__validField_'+fieldName]&&this['__validField_'+fieldName].idPrefix,ognlPrefix));\r\n    if(!eles){\r\n        return undefined;\r\n    }\r\n    if(eles&&eles.length==1){\r\n        return eles[0];\r\n    }\r\n    let newEles=[];\r\n    if(eles.length>1){\r\n        let zIndex = 0;\r\n        for (let i = 0; i <eles.length; i++) {\r\n            // 多个处理\r\n            let parentNode = _parentUtil(eles[i],{display:'none'},'style');\r\n            if(parentNode){// 找到了父节点有隐藏的，则不要\r\n                continue;\r\n            }\r\n            newEles.push(eles[i]);\r\n        }\r\n        if(newEles.length==1)return newEles[0];\r\n        if(newEles.length>1){\r\n            for (let i = 0; i <newEles.length; i++) {\r\n                // 多个处理\r\n                let parentNode = _parentUtil(newEles[i],'ant-modal-body','class');\r\n                if(parentNode){// 找到了父节点在modal中，则优先\r\n                    return newEles[i];\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\nlet _triggerFieldValidation = function(rules, fieldName, ognlPrefix, context, cb){// cb只能回调一次\r\n    let target = _getFormElementByFieldName.call(this,fieldName,ognlPrefix);\r\n    let isValid = true;\r\n    if(!target){// dom元素已不存在，则不校验\r\n        return isValid;\r\n    }\r\n    let msg;\r\n    let formValues = this.state.formValues||{};\r\n    if(!context){\r\n        context = formValues;\r\n    }\r\n    let asyncCount = rules.length;// 用于保证只回调一次\r\n    for (let i = 0; i < rules.length; i++) {// rules都走一遍，尝试发现校验不过的rule\r\n        let rule = rules[i];\r\n        if(isValid){\r\n            if(rule.required === true){\r\n                let contextVal=context[fieldName];\r\n                if(!contextVal || (Array.isArray(contextVal)&&contextVal.length==0)){\r\n                    isValid = false;\r\n                    if(rule.message){\r\n                        msg = rule.message;\r\n                    }\r\n                }\r\n                if(!msg){\r\n                    msg = '必填';\r\n                }\r\n                asyncCount--;// required场景校验完毕\r\n            }else if(rule.validator){\r\n                if(rule.validator.length >= 3){// ant-form风格validator，支持异步回调的校验\r\n                    let onlyOnce = 1;\r\n                    rule.validator.call(this,rule,context[fieldName],function(err){// 有可能就是同步执行的，当然也可能异步\r\n                        onlyOnce--;\r\n                        if(onlyOnce==0){\r\n                            asyncCount--;// 异步场景校验完毕\r\n                            if(err){\r\n                                isValid = false;\r\n                                if(err instanceof Error){\r\n                                    err = err.message;\r\n                                }\r\n                                msg = err;\r\n                            }\r\n                            _showFieldError(target,isValid,msg);\r\n                            this.isFormFiledsValid=isValid;\r\n                            if(asyncCount==0){// 全校验完了\r\n                                asyncCount--;// 防止后面重复调\r\n                                if(!isValid){\r\n                                    cb&&cb(false, fieldName);\r\n                                }else{\r\n                                    cb&&cb(true, fieldName);\r\n                                }\r\n                            }\r\n                        }\r\n                    },context);\r\n                }else{// 自定义同步风格\r\n                    if(!rule.validator.call(this, context[fieldName], context)){\r\n                        isValid = false;\r\n                        if(rule.message){\r\n                            msg = rule.message;\r\n                        }\r\n                    }\r\n                    asyncCount--;// 同步场景校验完毕\r\n                }\r\n            }else{\r\n                asyncCount--;// 无场景校验完毕\r\n            }\r\n        }else{\r\n            asyncCount--;// 已经无效后续rule当成校验完毕(其实未校验)\r\n        }\r\n    }\r\n    if(asyncCount==0){// 全走完\r\n        asyncCount--;// 避免重复回调\r\n        _showFieldError(target,isValid,msg);\r\n        this.isFormFiledsValid=isValid;\r\n        if(!isValid){\r\n            cb&&cb(false, fieldName);\r\n        }else{\r\n            cb&&cb(true, fieldName);\r\n        }\r\n    }\r\n}\r\n\r\nfunction getUniqClassName(fieldName,idPrefix,ognlPrefix){\r\n    if(ognlPrefix){\r\n        fieldName = ognlPrefix + fieldName;\r\n    }\r\n    let className = (idPrefix ? idPrefix : 'form-custom-id-') + fieldName;\r\n    className = className.replace(/[\\]\\[\\.]/g, '-');\r\n    return className;\r\n}\r\n\r\nlet util = {\r\n     getField : function(fieldName,options) {// fieldName支持嵌套模式a[0].b.c，将复杂表单对象拍成扁平的，提交时需要立体对象可调用util.form2js，查询后需要还原为扁平对象渲染调用util.js2form，嵌套的子组件采用context传递父对象进行bind\r\n        if(options && options.rules){// 将校验规则临时存起来，以便后面使用\r\n            this['__validField_' + fieldName] = {fieldName,rules:options.rules,idPrefix:options.idPrefix};\r\n        }\r\n        let className = getUniqClassName(fieldName, options&&options.idPrefix);\r\n        let fieldProp = {\r\n          onChange:(e)=>{\r\n            let formValues = this.state.formValues;\r\n            if(!formValues){\r\n              formValues={};\r\n            }\r\n\r\n            formValues[fieldName] = util.getEventTargetValue(e);\r\n            if(options){\r\n                if(options.rules){\r\n                    _triggerFieldValidation.call(this, options.rules, fieldName);\r\n                }\r\n                if(options.noChineseSymbol){\r\n                    let fv = formValues[fieldName];\r\n                    if(fv&&(fv.indexOf('（')>-1 || fv.indexOf('）')>-1 || fv.indexOf('“')>-1 || fv.indexOf('”')>-1|| fv.indexOf('，')>-1|| fv.indexOf('：')>-1 || fv.indexOf('；')>-1 || fv.indexOf('！')>-1)){\r\n                        message.warn('亲的输入中含有中文符号! 常见的有:“”（）；，！：');\r\n                        fv = fv.replace(/[（）“”，：；！]/g, '');\r\n                        formValues[fieldName] = fv;\r\n                    }\r\n                }\r\n            }\r\n            this.setState({formValues},()=>{\r\n                if(options){\r\n                    options.onChange && options.onChange(e);\r\n                }\r\n            })\r\n          },\r\n          value:this.state.formValues?this.state.formValues[fieldName]:undefined,\r\n          className\r\n        };\r\n        if(options){\r\n            if(options.mode=='checkbox'){\r\n                fieldProp.checked = this.state.formValues?this.state.formValues[fieldName]:undefined;\r\n                delete fieldProp.value;\r\n            }else if(options.mode=='RangePickerDate'){// 选日期范围，做规整\r\n                if(fieldProp.value&&fieldProp.value.length==2){\r\n                    fieldProp.value[0]=fieldProp.value[0].startOf('day');\r\n                    fieldProp.value[1]=fieldProp.value[1].endOf('day');\r\n                }\r\n            }\r\n        }\r\n        return fieldProp;\r\n    },\r\n    getSubField:function(ognlPrefix,fieldName,context,options){// 复杂表单使用，存在嵌套多层字段；由于唯一标识需要，需要通过ognlPrefix来区分，ognlPrefix本身是个ognl，为截止到当前字段的前缀:如a.b[1]，其ognl的含义就是指向context，fieldName字段名c，context当前字段的载体父对象如formValues.a.b[1]，如果位于根对象上，请传formValues或不传\r\n        ognlPrefix = ognlPrefix||'';\r\n        if(ognlPrefix.startsWith('formValues.')){\r\n            ognlPrefix = ognlPrefix.substring('formValues.'.length);\r\n        }\r\n        if(!context){\r\n            context = this.state.formValues||{};\r\n        }\r\n        if(options && options.rules){// 将校验规则临时存起来，以便后面使用\r\n            this['__validField_' + ognlPrefix+fieldName] = {fieldName,ognlPrefix,context,rules:options.rules,idPrefix:options.idPrefix};\r\n        }\r\n        let className = getUniqClassName(fieldName, options&&options.idPrefix, ognlPrefix);\r\n        let fieldProp = {\r\n          onChange:(e)=>{\r\n            let formValues = this.state.formValues;\r\n            if(!formValues){\r\n              context=formValues={};\r\n            }\r\n            context[fieldName] = util.getEventTargetValue(e);\r\n            if(options){\r\n                if(options.rules){\r\n                    _triggerFieldValidation.call(this, options.rules, fieldName, ognlPrefix, context);\r\n                }\r\n            }\r\n            this.setState({formValues},()=>{\r\n                if(options){\r\n                    options.onChange && options.onChange(e);\r\n                }\r\n            });// 触发render以使得context的修改生效，其实就是为下面的value服务\r\n          },\r\n          value:context[fieldName],\r\n          className\r\n        };\r\n        if(options&&options.mode=='checkbox'){\r\n            fieldProp.checked = context[fieldName];\r\n            delete fieldProp.value;\r\n        }\r\n        return fieldProp;\r\n    },\r\n    clearValidateFields:function(){\r\n        for(let k in this){\r\n            if(k.startsWith('__validField_')){\r\n                delete this[k];\r\n            }\r\n        }\r\n    },\r\n    getEventTargetValue:function(e){\r\n        if(!e)return e;\r\n        if (typeof e == 'string' || typeof e == 'number' || typeof e == 'boolean') {\r\n            return e;\r\n        } else {\r\n            if(typeof e == 'object' && e.hasOwnProperty('length')){\r\n                return e;\r\n            }\r\n            if(e&&e.target){\r\n                let fieldVal = e.target.value;\r\n                if(e.target.hasOwnProperty('checked') && e.target.type!='radio'){\r\n                    fieldVal = e.target.checked;\r\n                }\r\n                return fieldVal;\r\n            }\r\n            if(e.valueOf&&typeof e.valueOf == 'function'){\r\n                return e;\r\n            }\r\n        }\r\n    },\r\n    validateFields:function(callback,validFields){// 表单提交时，自动触发所有校验，通过后方可回调\r\n        if(!validFields){// 只校验的字段\r\n            validFields=[];\r\n        }\r\n        validFields = validFields.map(vf=>'__validField_'+vf);\r\n        let isFormValid = true;\r\n        let validateKeys = [];// 需要校验的字段\r\n        for(let vkey in this){\r\n            if(vkey.startsWith('__validField_')){\r\n                if(validFields.length > 0 && validFields.indexOf(vkey) === -1){\r\n                    continue;\r\n                }\r\n                let target = _getFormElementByFieldName.call(this,this[vkey].fieldName,this[vkey].ognlPrefix);\r\n                if(!target){\r\n                    continue;\r\n                }\r\n                validateKeys.push(vkey);\r\n            }\r\n        }\r\n        let validCount = validateKeys.length;\r\n        for(let i=0;i<validateKeys.length;i++){\r\n            let vkey = validateKeys[i];\r\n            _triggerFieldValidation.call(this, this[vkey].rules,this[vkey].fieldName, this[vkey].ognlPrefix, this[vkey].context, (valid,fieldName)=>{// 确保一次trigger只回调一次\r\n                if(valid){\r\n                    validCount--;\r\n                    if(validCount===0){\r\n                        validCount--;\r\n                        callback(util._convertFormValues(this.state.formValues));\r\n                    }\r\n                }\r\n            });\r\n        }\r\n        if(validCount===0){\r\n            validCount--;\r\n            callback(util._convertFormValues(this.state.formValues));\r\n        }\r\n    },\r\n    _convertFormValues:function(formValues){// 日期moment的通用转换，省的后端老转\r\n        if(!formValues)return formValues;\r\n        let newFormValues={};\r\n        for(let k in formValues){\r\n            let formValue=formValues[k];\r\n            if(formValue&&formValue._isAMomentObject){\r\n                newFormValues[k]=util.formatDate(formValue);\r\n            }else{\r\n                newFormValues[k]=formValue;\r\n            }\r\n        }\r\n        return newFormValues;\r\n    },\r\n    showFieldError:_showFieldError,\r\n\r\n\r\n    getComponent:function(component,ops){\r\n        ops && component.props && (component.props.value=ops.value);\r\n        return component;\r\n    },\r\n    form2js:function(nameValues, skipEmpty){\r\n        let result = {},\r\n            arrays = {},\r\n            delimiter = '.',\r\n            j, k, l,\r\n            value,\r\n            nameParts,\r\n            currResult,\r\n            arrNameFull,\r\n            arrName,\r\n            arrIdx,\r\n            namePart,\r\n            _nameParts;\r\n        let sortedNameValues={},keys=[];\r\n        for(let k in nameValues){\r\n            keys.push(k);\r\n        }\r\n        keys.sort();\r\n        for(let k of keys){\r\n            sortedNameValues[k]=nameValues[k];\r\n        }\r\n        nameValues=sortedNameValues;\r\n        for (let name in nameValues)\r\n        {\r\n            value = nameValues[name];\r\n\r\n            if (skipEmpty && (value === '' || value === null)) continue;\r\n            _nameParts = name.split(delimiter);\r\n            nameParts = [];\r\n            currResult = result;\r\n            arrNameFull = '';\r\n\r\n            for(j = 0; j < _nameParts.length; j++)\r\n            {\r\n                namePart = _nameParts[j].split('][');\r\n                if (namePart.length > 1)\r\n                {\r\n                    for(k = 0; k < namePart.length; k++)\r\n                    {\r\n                        if (k === 0)\r\n                        {\r\n                            namePart[k] = namePart[k] + ']';\r\n                        }\r\n                        else if (k === namePart.length - 1)\r\n                        {\r\n                            namePart[k] = '[' + namePart[k];\r\n                        }\r\n                        else\r\n                        {\r\n                            namePart[k] = '[' + namePart[k] + ']';\r\n                        }\r\n\r\n                        arrIdx = namePart[k].match(/([a-z_]+)?\\[([a-z_][a-z0-9_]+?)\\]/i);\r\n                        if (arrIdx)\r\n                        {\r\n                            for(l = 1; l < arrIdx.length; l++)\r\n                            {\r\n                                if (arrIdx[l]) nameParts.push(arrIdx[l]);\r\n                            }\r\n                        }\r\n                        else{\r\n                            nameParts.push(namePart[k]);\r\n                        }\r\n                    }\r\n                }\r\n                else\r\n                    nameParts = nameParts.concat(namePart);\r\n            }\r\n\r\n            for (j = 0; j < nameParts.length; j++)\r\n            {\r\n                namePart = nameParts[j];\r\n\r\n                if (namePart.indexOf('[]') > -1 && j === nameParts.length - 1)\r\n                {\r\n                    arrName = namePart.substr(0, namePart.indexOf('['));\r\n                    arrNameFull += arrName;\r\n\r\n                    if (!currResult[arrName]) currResult[arrName] = [];\r\n                    currResult[arrName].push(value);\r\n                }\r\n                else if (namePart.indexOf('[') > -1)\r\n                {\r\n                    arrName = namePart.substr(0, namePart.indexOf('['));\r\n                    arrIdx = namePart.replace(/(^([a-z_]+)?\\[)|(\\]$)/gi, '');\r\n\r\n                    /* Unique array name */\r\n                    arrNameFull += '_' + arrName + '_' + arrIdx;\r\n\r\n                    /*\r\n                     * Because arrIdx in field name can be not zero-based and step can be\r\n                     * other than 1, we can't use them in target array directly.\r\n                     * Instead we're making a hash where key is arrIdx and value is a reference to\r\n                     * added array element\r\n                     */\r\n\r\n                    if (!arrays[arrNameFull]) arrays[arrNameFull] = {};\r\n                    if (arrName !== '' && !currResult[arrName]) currResult[arrName] = [];\r\n\r\n                    if (j === nameParts.length - 1)\r\n                    {\r\n                        if (arrName === '')\r\n                        {\r\n                            currResult.push(value);\r\n                            arrays[arrNameFull][arrIdx] = currResult[currResult.length - 1];\r\n                        }\r\n                        else\r\n                        {\r\n                            currResult[arrName].push(value);\r\n                            arrays[arrNameFull][arrIdx] = currResult[arrName][currResult[arrName].length - 1];\r\n                        }\r\n                    }\r\n                    else\r\n                    {\r\n                        if (!arrays[arrNameFull][arrIdx])\r\n                        {\r\n                            if ((/^[0-9a-z_]+\\[?/i).test(nameParts[j+1])) currResult[arrName].push({});\r\n                            else currResult[arrName].push([]);\r\n\r\n                            arrays[arrNameFull][arrIdx] = currResult[arrName][currResult[arrName].length - 1];\r\n                        }\r\n                    }\r\n\r\n                    currResult = arrays[arrNameFull][arrIdx];\r\n                }\r\n                else\r\n                {\r\n                    arrNameFull += namePart;\r\n\r\n                    if (j < nameParts.length - 1) /* Not the last part of name - means object */\r\n                    {\r\n                        if (!currResult[namePart]) currResult[namePart] = {};\r\n                        currResult = currResult[namePart];\r\n                    }\r\n                    else\r\n                    {\r\n                        currResult[namePart] = value;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return result;\r\n    },\r\n\r\n    js2form:function(obj){\r\n        let results = util._js2formResults(obj);\r\n        if(results){\r\n            let formObj={};\r\n            for (let i = 0;i<results.length;i++) {\r\n                formObj[results[i].name] = results[i].value;\r\n            }\r\n            return formObj;\r\n        }else{\r\n            return undefined;\r\n        }\r\n    },\r\n\r\n    _js2formResults:function(obj, lvl) {\r\n        let result = [], i, name;\r\n        if (arguments.length === 1) lvl = 0;\r\n\r\n        if (obj == null)\r\n        {\r\n            result = [{ name: \"\", value: null }];\r\n        }\r\n        else if (typeof obj === 'string' || typeof obj === 'number' || typeof obj === 'boolean' || obj instanceof Date)\r\n        {\r\n            result = [\r\n                { name: \"\", value : obj }\r\n            ];\r\n        }\r\n        else if (obj instanceof Array)\r\n        {\r\n            for (i = 0; i < obj.length; i++)\r\n            {\r\n                name = \"[\" + i + \"]\";\r\n                result = result.concat(util._getSubValues(obj[i], name, lvl + 1));\r\n            }\r\n        }\r\n        else\r\n        {\r\n            for (i in obj)\r\n            {\r\n                name = i;\r\n                result = result.concat(util._getSubValues(obj[i], name, lvl + 1));\r\n            }\r\n        }\r\n\r\n        return result;\r\n    },\r\n\r\n    _getSubValues:function(subObj, name, lvl)\r\n    {\r\n        let itemName;\r\n        let result = [], tempResult = util._js2formResults(subObj, lvl + 1), i, tempItem;\r\n\r\n        for (i = 0; i < tempResult.length; i++)\r\n        {\r\n            itemName = name;\r\n            if (/^\\[\\d+?\\]/.test(tempResult[i].name))\r\n            {\r\n                itemName += tempResult[i].name;\r\n            }\r\n            else if (/^[a-zA-Z_][a-zA-Z_0-9]*/.test(tempResult[i].name))\r\n            {\r\n                itemName += '.' + tempResult[i].name;\r\n            }\r\n\r\n            tempItem = { name: itemName, value: tempResult[i].value };\r\n            result.push(tempItem);\r\n        }\r\n\r\n        return result;\r\n    },\r\n    ajax:(url, data, successCallback,errorCallback=(response)=>{\r\n        message.error('system error' + '\\n' + response);\r\n     })=>{\r\n        minAjax({\r\n            url:url,\r\n            data:data,\r\n            async:true,\r\n            xhrFields:{\r\n              withCredentials:true\r\n            },\r\n            success:(result,xhr)=>{\r\n                if(result && result.success === false){\r\n                    message.error('error' + ':\\n' + (result.message?result.message:''), 3);\r\n                }\r\n                if(!result){\r\n                    message.error('interface error');\r\n                }\r\n                if(successCallback){\r\n                    successCallback(result,xhr);\r\n                }\r\n            },\r\n            error:errorCallback\r\n        });\r\n     },\r\n     post:(url, data, successCallback,errorCallback=(response)=>{\r\n        message.error('系统错误' + '\\n' + response);\r\n     })=>{\r\n        minAjax({\r\n            url:url,\r\n            data:data,\r\n            async:true,\r\n            type:'POST',\r\n            xhrFields:{\r\n              withCredentials:true\r\n            },\r\n            success:(result,xhr)=>{\r\n                if(result && result.success === false){\r\n                    message.error('业务错误' + ':\\n' + ((result.message?result.message:'') || (result.errMsg?result.errMsg:'')));\r\n                }\r\n                if(!result){\r\n                    message.error('系统接口错误');\r\n                }\r\n                if(successCallback){\r\n                    successCallback(result,xhr);\r\n                }\r\n            },\r\n            error:errorCallback\r\n        });\r\n     },\r\n     ajaxJson:(url, data, successCallback,errorCallback=(response)=>{\r\n        message.error('network error' + '\\n' + response);\r\n     },options={})=>{\r\n        let dataStr=data;\r\n        if(typeof data == 'object'){\r\n            for(let k in data){\r\n                if(data[k] && typeof data[k] === 'string'){\r\n                    data[k] = data[k].trim();\r\n                }\r\n            }\r\n            if(window.location.hash=='#pre'||(window.location.hash=='#presync' && data.preEnv !== false)){// 针对pre环境特殊处理\r\n                data.preEnv=true;\r\n            }\r\n            dataStr = JSON.stringify(data);\r\n        }\r\n        minAjax({\r\n            ...options,\r\n            url:url,\r\n            data:dataStr,\r\n            async:true,\r\n            type:'POST',\r\n            contentType:'text/plain;charset=UTF-8',\r\n            xhrFields:{\r\n              withCredentials:true\r\n            },\r\n            success:(result,xhr)=>{\r\n                if(result && result.success === false && data.noErrAlert!==true){\r\n                   message.error('服务接口错误' + '\\n' + ((result.message?result.message:'') || (result.errMsg?result.errMsg:'') || (result.result&&result.result.failMessage?result.result.failMessage:'')));\r\n                }\r\n                successCallback(result,xhr);\r\n            },\r\n            error:errorCallback\r\n        });\r\n     },\r\n     ajaxJsonAsync:(url, data)=>{\r\n        let dataStr=data;\r\n        if(typeof data == 'object'){\r\n            for(let k in data){\r\n                if(data[k] && typeof data[k] === 'string'){\r\n                    data[k] = data[k].trim();\r\n                }\r\n            }\r\n            if(window.location.hash=='#pre'||(window.location.hash=='#presync' && data.preEnv !== false)){// 针对pre环境特殊处理\r\n                data.preEnv=true;\r\n            }\r\n            dataStr = JSON.stringify(data);\r\n        }\r\n        let promise=new Promise((successCallback,errorCallback)=>{\r\n            minAjax({\r\n                url:url,\r\n                data:dataStr,\r\n                async:true,\r\n                type:'POST',\r\n                contentType:'text/plain;charset=UTF-8',\r\n                xhrFields:{\r\n                  withCredentials:true\r\n                },\r\n                success:(result,xhr)=>{\r\n                    if(result && result.success === false && data.noErrAlert!==true){\r\n                       message.error('接口错误' + '\\n' + ((result.message?result.message:'') || (result.errMsg?result.errMsg:'') || (result.failMessage?result.failMessage:'') || (result.result&&result.result.failMessage?result.result.failMessage:'')));\r\n                    }\r\n                    successCallback(result,xhr);\r\n                },\r\n                error:errorCallback?errorCallback:(response)=>{\r\n                    message.error('network error' + '\\n' + response);\r\n                }\r\n            });\r\n        });\r\n        \r\n        return promise;\r\n     },\r\n     isEmpty:obj => {\r\n         if (obj == undefined || obj == null || (typeof obj == 'string' && '' == obj.trim())) {\r\n             return true;\r\n         }\r\n         return false;\r\n     },\r\n     getStringValue:obj => {\r\n        if(obj === undefined || obj === null){\r\n            return '';\r\n        }\r\n        if(typeof obj == 'object'){\r\n            return JSON.stringify(obj);\r\n        }\r\n        return obj + '';\r\n     },\r\n     convertStr2Num:(queryCond, name)=>{\r\n        if(queryCond[name] !== undefined){\r\n          if(queryCond[name] === '0' || queryCond[name] === 0 || queryCond[name] === ''){\r\n            delete queryCond[name];\r\n          }else{\r\n            queryCond[name] = +queryCond[name];\r\n          } \r\n        }\r\n     },\r\n     mask:id=>{\r\n        let domElement = document.body;\r\n        if(id){\r\n            domElement = document.getElementById(id);\r\n        }\r\n        if(domElement){\r\n            let maskElement = document.createElement('span');\r\n            maskElement.id='myCustomAntdMask';\r\n            domElement.appendChild(maskElement);\r\n            domElement.classList.add(\"my-custom-antd-mask\");\r\n        }\r\n     },\r\n     unmask:id=>{\r\n        let domElement = document.body;\r\n        if(id){\r\n            domElement = document.getElementById(id);\r\n        }\r\n        if(domElement){\r\n            let maskElement = document.getElementById('myCustomAntdMask');\r\n            if(maskElement){\r\n                maskElement.remove();\r\n            }\r\n            domElement.classList.remove(\"my-custom-antd-mask\");\r\n        }\r\n     },\r\n     formatDate : (date, style) => {\r\n        if (!date && 0 !== date) {\r\n            return;\r\n        }\r\n        if (!style) {\r\n            style = 'yyyy-MM-dd hh:mm:ss';\r\n        }\r\n        if(date._isAMomentObject){\r\n            date = date.valueOf();\r\n        }\r\n        let shortYear=false;\r\n        if(style.startsWith('yy-')){\r\n            style='yy'+style;\r\n            shortYear=true;\r\n        }\r\n        if (typeof date == 'string' || typeof date == 'number') {\r\n            date = new Date(date);\r\n        }else{\r\n            return '格式错误';\r\n        }\r\n        let y = date.getFullYear();    \r\n        let M = \"0\" + (date.getMonth() + 1);    \r\n        M = M.substring(M.length - 2);   \r\n        let d = \"0\" + date.getDate();   \r\n        d = d.substring(d.length - 2);    \r\n        let h = \"0\" + date.getHours();    \r\n        h = h.substring(h.length - 2);    \r\n        let m = \"0\" + date.getMinutes();    \r\n        m = m.substring(m.length - 2);   \r\n        let s = \"0\" + date.getSeconds();    \r\n        s = s.substring(s.length - 2);   \r\n        let result=style.replace('yyyy', y).replace('MM', M).replace('dd', d).replace('hh', h).replace('mm', m).replace('ss', s);\r\n        if(shortYear){\r\n            result=result.substring(2);\r\n        }\r\n        return result;\r\n     },\r\n     guid: ()=> {\r\n        return 'xxxxxxxxxxxxxxxxxxxx'.replace(/[xy]/g, function(c) {\r\n            let r = Math.random()*16|0, v = c == 'x' ? r : (r&0x3|0x8);\r\n            return v.toString(16);\r\n        });\r\n    },\r\n     getShortDate:function(timestamp, short){\r\n        let now=new Date().getTime();\r\n        if(Math.abs(now-timestamp) < 86400000){\r\n            let fd=util.formatDate(timestamp, 'hh:mm:ss');\r\n            if(short){\r\n                return fd.substring(3);\r\n            }\r\n            return fd;\r\n        }else{\r\n            let fd=util.formatDate(timestamp, 'yyyy-MM-dd');\r\n            if(short){\r\n                return fd.substring(2);\r\n            }\r\n            return fd;\r\n        }\r\n     },\r\n     setAllNum2Str:function(data){\r\n        if(data){\r\n            for(let k in data){\r\n                if(typeof data[k] === 'number'){\r\n                    data[k] = data[k] + '';\r\n                }\r\n            }\r\n        }\r\n     },\r\n     tuomin:function(data,count=1){\r\n        if(data){\r\n            data=data+'';\r\n            if(this.isChinese(data)&&data.length > 1&&data.length<5){\r\n                return data[0] + '*'.repeat(data.length-1);\r\n            }\r\n            if(data.length==3){\r\n                return data[0]+'*'+data[2];\r\n            }\r\n            if(data.length<=count+1){\r\n                return data[0]+'*';\r\n            }\r\n            let dotStr='.'.repeat(count);\r\n            if(new RegExp(`^${dotStr}(.*)${dotStr}`,'g').test(data)){\r\n                return data.replace(RegExp.$1, '*'.repeat(RegExp.$1.length));\r\n            }\r\n        }else{\r\n            return data;\r\n        }\r\n     },\r\n     isChinese:function(s){\r\n        let patrn= /[\\u4E00-\\u9FA5]|[\\uFE30-\\uFFA0]/gi;\r\n        return patrn.exec(s);\r\n     },\r\n     convertToChinaNum:function(num) {\r\n        let arr1 = new Array('零', '一', '二', '三', '四', '五', '六', '七', '八', '九');\r\n        let arr2 = new Array('', '十', '百', '千', '万', '十', '百', '千', '亿', '十', '百', '千','万', '十', '百', '千','亿');//可继续追加更高位转换值\r\n        if(!num || isNaN(num)){\r\n            return \"零\";\r\n        }\r\n        if((num+'').indexOf('.')==num.length-1)return '';\r\n        let english = num.toString().split(\"\")\r\n        let result = \"\";\r\n        for (let i = 0; i < english.length; i++) {\r\n            let des_i = english.length - 1 - i;//倒序排列设值\r\n            result = arr2[i] + result;\r\n            let arr1_index = english[des_i];\r\n            result = arr1[arr1_index] + result;\r\n        }\r\n        //将【零千、零百】换成【零】 【十零】换成【十】\r\n        result = result.replace(/零(千|百|十)/g, '零').replace(/十零/g, '十');\r\n        //合并中间多个零为一个零\r\n        result = result.replace(/零+/g, '零');\r\n        //将【零亿】换成【亿】【零万】换成【万】\r\n        result = result.replace(/零亿/g, '亿').replace(/零万/g, '万');\r\n        //将【亿万】换成【亿】\r\n        result = result.replace(/亿万/g, '亿');\r\n        //移除末尾的零\r\n        result = result.replace(/零+$/, '')\r\n        //将【零一十】换成【零十】\r\n        //result = result.replace(/零一十/g, '零十');//貌似正规读法是零一十\r\n        //将【一十】换成【十】\r\n        result = result.replace(/^一十/g, '十');\r\n        return result;\r\n     },\r\n     encode:function(str){\r\n        return window.btoa(unescape(encodeURIComponent(str)));\r\n     },\r\n     decode:function(str){\r\n        return decodeURIComponent(escape(window.atob(str)));\r\n     },\r\n     getJSONString:function(obj){// js风格的伪json，转为真json\r\n        if(!obj){\r\n            return obj;\r\n        }\r\n        if (typeof obj == 'string'){\r\n            try{\r\n                JSON.parse(obj);\r\n                return obj;\r\n            }catch(e){\r\n                return JSON.stringify(eval(`(${obj})`));\r\n            }\r\n        }\r\n     },\r\n     getJSON:function(str){\r\n        let paramObj;\r\n        if(!str){\r\n            return paramObj;\r\n        }\r\n        str = window.removeCommentFromJSON(str);\r\n        try{\r\n            paramObj=JSON.parse(str);\r\n        }catch(e){\r\n            try{\r\n              paramObj=eval(`(${str})`);\r\n            }catch(e1){\r\n            }\r\n        }\r\n        return paramObj;\r\n     },\r\n     getCookie:function(key){\r\n        let result = key ? undefined : {};\r\n        let cookies = document.cookie ? document.cookie.split('; ') : [];\r\n\r\n        for (let i = 0, l = cookies.length; i < l; i++) {\r\n            let parts = cookies[i].split('=');\r\n            let name = parts.shift();\r\n            let cookie = parts.join('=');\r\n\r\n            if (key && key === name) {\r\n                // If second argument (value) is a function it's a converter...\r\n                result = cookie;\r\n                break;\r\n            }\r\n            // Prevent storing a cookie that we couldn't decode.\r\n            if (!key && cookie !== undefined) {\r\n                result[name] = cookie;\r\n            }\r\n        }\r\n        return result;\r\n     },\r\n     pushAt:function(arr,idx,obj){\r\n        if(arr&&idx>=0&&arr.length>=idx){\r\n            let newArr=[];\r\n            for(let i=0;i<arr.length;i++){\r\n                if(i==idx){\r\n                    newArr.push(obj);\r\n                }\r\n                newArr.push(arr[i]);\r\n            }\r\n            if(idx==arr.length){\r\n                newArr.push(obj);\r\n            }\r\n            return newArr;\r\n        }\r\n        return arr;\r\n     },\r\n\r\n     throttle:function( delay, no_trailing, callback, debounce_mode ) {\r\n        // After wrapper has stopped being called, this timeout ensures that\r\n        // `callback` is executed at the proper times in `throttle` and `end`\r\n        // debounce modes.\r\n        let timeout_id,\r\n          \r\n          // Keep track of the last time `callback` was executed.\r\n          last_exec = 0;\r\n        \r\n        // `no_trailing` defaults to falsy.\r\n        if ( typeof no_trailing !== 'boolean' ) {\r\n          debounce_mode = callback;\r\n          callback = no_trailing;\r\n          no_trailing = undefined;\r\n        }\r\n        \r\n        // The `wrapper` function encapsulates all of the throttling / debouncing\r\n        // functionality and when executed will limit the rate at which `callback`\r\n        // is executed.\r\n        function wrapper() {\r\n          let that = this,\r\n            elapsed = +new Date() - last_exec,\r\n            args = arguments;\r\n          \r\n          // Execute `callback` and update the `last_exec` timestamp.\r\n          function exec() {\r\n            last_exec = +new Date();\r\n            callback.apply( that, args );\r\n          }\r\n          \r\n          // If `debounce_mode` is true (at_begin) this is used to clear the flag\r\n          // to allow future `callback` executions.\r\n          function clear() {\r\n            timeout_id = undefined;\r\n          }\r\n          \r\n          if ( debounce_mode && !timeout_id ) {\r\n            // Since `wrapper` is being called for the first time and\r\n            // `debounce_mode` is true (at_begin), execute `callback`.\r\n            exec();\r\n          }\r\n          \r\n          // Clear any existing timeout.\r\n          timeout_id && clearTimeout( timeout_id );\r\n          \r\n          if ( debounce_mode === undefined && elapsed > delay ) {\r\n            // In throttle mode, if `delay` time has been exceeded, execute\r\n            // `callback`.\r\n            exec();\r\n            \r\n          } else if ( no_trailing !== true ) {\r\n            // In trailing throttle mode, since `delay` time has not been\r\n            // exceeded, schedule `callback` to execute `delay` ms after most\r\n            // recent execution.\r\n            // \r\n            // If `debounce_mode` is true (at_begin), schedule `clear` to execute\r\n            // after `delay` ms.\r\n            // \r\n            // If `debounce_mode` is false (at end), schedule `callback` to\r\n            // execute after `delay` ms.\r\n            timeout_id = setTimeout( debounce_mode ? clear : exec, debounce_mode === undefined ? delay - elapsed : delay );\r\n          }\r\n        }\r\n        \r\n        // Return the wrapper function.\r\n        return wrapper;\r\n      },\r\n      debounce:function( delay, at_begin, callback ) {\r\n        return callback === undefined\r\n          ? util.throttle( delay, at_begin, false )\r\n          : util.throttle( delay, callback, at_begin !== false );\r\n      }\r\n };\r\n\r\n function initXMLhttp() {\r\n    let xmlhttp;\r\n    if (window.XMLHttpRequest) {\r\n        //code for IE7,firefox chrome and above\r\n        xmlhttp = new XMLHttpRequest();\r\n    } else if(window.ActiveXObject){\r\n        //code for Internet Explorer\r\n        xmlhttp = new window.ActiveXObject(\"Microsoft.XMLHTTP\");\r\n    }\r\n    return xmlhttp;\r\n}\r\n\r\nfunction sign(str=''){\r\n    return md5(str);\r\n}\r\n\r\nexport function minAjax(config) {\r\n    if (!config.url) {\r\n        return;\r\n    }\r\n    if (!config.type) {\r\n        config.type = 'GET';\r\n    }\r\n    if (!config.debugLog) {\r\n        config.debugLog = false;\r\n    }\r\n\r\n    let xmlhttp = initXMLhttp();\r\n    if ( config.xhrFields ) {\r\n        for (let i in config.xhrFields ) {\r\n            xmlhttp[ i ] = config.xhrFields[ i ];\r\n        }\r\n    }\r\n    if (!config.contentType) {\r\n        config.contentType = \"application/x-www-form-urlencoded\";\r\n    }\r\n    if (!config.dataType) {\r\n        config.dataType = 'json';\r\n    }\r\n    \r\n    xmlhttp.onreadystatechange = () => {\r\n        if (xmlhttp.readyState == 4 && xmlhttp.status == 200) {\r\n            if (config.success) {\r\n                let response = xmlhttp.responseText;\r\n                if(response&&config.dataType == 'json'){\r\n                    response = JSON.parse(response);\r\n                    // response._account=decodeURIComponent(xmlhttp.getResponseHeader('_account'));\r\n                }\r\n                config.success(response,xmlhttp);\r\n            }\r\n        }\r\n        if(xmlhttp.status == 333){\r\n            emitter.emit('goto-login',{config,body:xmlhttp.responseText});\r\n            return;\r\n        }\r\n        if(xmlhttp.status == 403){// 自定义代码块\r\n            return message.error(\"无权限!\");\r\n        }\r\n        if(xmlhttp.status == 431){\r\n            return message.error(\"服务查询失败!\");\r\n        }\r\n        if(xmlhttp.status == 432){\r\n            return message.error(\"服务不存在!\");\r\n        }\r\n        if (xmlhttp.readyState == 4 && xmlhttp.status > 200) {\r\n            let errorInfo = xmlhttp.responseText;\r\n            let rspContentType = xmlhttp.getResponseHeader('Content-Type');\r\n            if(rspContentType&&rspContentType.indexOf('json') > -1){\r\n                let rsp = JSON.parse(xmlhttp.responseText);\r\n                if(rsp.errors&&rsp.errors){\r\n                    errorInfo = JSON.stringify(rsp.errors);\r\n                }\r\n            }\r\n            message.info(errorInfo, 3);\r\n\r\n            if (config.error) {\r\n                let response = xmlhttp.responseText;\r\n                config.error(response);\r\n            }\r\n\r\n            return;\r\n        }\r\n        if (xmlhttp.readyState == 4 && xmlhttp.status == 0) {\r\n            message.error(`网络错误，请确认服务器地址 '${config.url}' 可用!`);\r\n            if (config.error) {\r\n                let response = xmlhttp.responseText;\r\n                config.error(response);\r\n            }\r\n        }\r\n    };\r\n    let sendString = [],\r\n        sendData = config.data;\r\n    if( typeof sendData === \"string\" ){\r\n        if(config.contentType == \"application/x-www-form-urlencoded\"){\r\n            let tmpArr = String.prototype.split.call(sendData,'&');\r\n            for(let i = 0, j = tmpArr.length; i < j; i++){\r\n                let datum = tmpArr[i].split('=');\r\n                sendString.push(datum[0] + \"=\" + encodeURIComponent(datum[1]));\r\n            }\r\n        } else {\r\n            sendString.push(sendData);\r\n        }\r\n    }else if( typeof sendData === 'object' && !( sendData instanceof String || (FormData && sendData instanceof FormData) ) ){\r\n        if(config.contentType == \"application/x-www-form-urlencoded\"){\r\n            for (let k in sendData) {\r\n                let datum = sendData[k];\r\n                if(datum && typeof datum === 'string'){\r\n                    datum = datum.trim();\r\n                }\r\n                if(datum || 0===datum){\r\n                    if( Object.prototype.toString.call(datum) == \"[object Array]\" ){\r\n                        for(let i = 0, j = datum.length; i < j; i++) {\r\n                                sendString.push(k + \"=\" + encodeURIComponent(datum[i]));\r\n                        }\r\n                    }else{\r\n                        sendString.push(k + \"=\" + encodeURIComponent(datum));\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n    sendString = sendString.join('&');\r\n    let async = true;\r\n    if ('async' in config) {\r\n        async = config.async;\r\n    }\r\n    if(!window.isProd()&&config.url.indexOf('logFlowLogs=true')==-1){\r\n        if(config.url.indexOf('?') > -1){\r\n            config.url=config.url+'&logFlowLogs=true';\r\n        }else{\r\n            config.url=config.url+'?logFlowLogs=true';\r\n        }\r\n    }\r\n    if (config.type == \"GET\") {\r\n        if(config.url.indexOf('?') > -1){\r\n            xmlhttp.open(\"GET\", config.url + sendString, async);\r\n        }else{\r\n            xmlhttp.open(\"GET\", config.url + \"?\" + sendString, async);\r\n        }\r\n        if(config.beforeSend){\r\n            config.beforeSend(xmlhttp);\r\n        }\r\n        xmlhttp.send();\r\n    }\r\n    if (config.type == \"POST\") {\r\n        xmlhttp.open(\"POST\", config.url, async);\r\n        xmlhttp.setRequestHeader(\"Content-type\", config.contentType);\r\n        xmlhttp.setRequestHeader(\"Accept-Language\", sign(sendString));\r\n        if(config.beforeSend){\r\n            config.beforeSend(xmlhttp,sendString);\r\n        }\r\n        xmlhttp.send(sendString);\r\n    }\r\n}\r\n\r\nexport {util, emitter}","import React, {\r\n  Component\r\n} from 'react';\r\nimport {\r\n  Table,\r\n  message\r\n} from 'antd';\r\nimport {emitter,util} from '../../../common/common';\r\nexport default class Grid extends Component {\r\n  static defaultProps = {\r\n      pagination : true,\r\n      currentPageName : 'currentPageNum',\r\n      pageSizeName : 'pageSize',\r\n      totalName : 'totalItem',\r\n      defaultPageSize:10,\r\n      queryCondHandler : queryParam=>queryParam\r\n  };\r\n\r\n  constructor(...args) {\r\n    super(...args);\r\n    emitter.on(this.props.queryEmitter, (queryCond,retainPagintion)=>{\r\n      if (!queryCond) {\r\n        queryCond = this.state.queryCond;\r\n      }\r\n      !this.unmount&&this.setState({\r\n        queryCond,\r\n        pagination:this.props.pagination?{pageSize:this.props.defaultPageSize,current:retainPagintion?this.state.pagination.current:1}:undefined\r\n      },()=>{\r\n        this.fetchDataAjax(queryCond);\r\n      });\r\n    });\r\n    this.columns = this.props.columns.map(c => {return {\r\n      title:c.title,\r\n      dataIndex:c.key,\r\n      key:c.key,\r\n      width:c.width,\r\n      fixed:c.fixed,\r\n      render:c.render,\r\n      sorter:c.sorter\r\n    }});\r\n    \r\n    this.state = {\r\n      queryCond:{},\r\n      tableData:[],\r\n      pagination:this.props.pagination?{pageSize:this.props.defaultPageSize,current:1} : undefined,\r\n      loading:false\r\n    };\r\n  }\r\n\r\n  componentDidMount(){\r\n    \r\n    if(!this.props.lazyInit){// 支持懒加载\r\n      this.fetchDataAjax(this.props.initQueryCond);\r\n    }\r\n  }\r\n  handleTableChange=(pagination, filters, sorter)=>{\r\n    if(this.props.onChange){\r\n      this.props.onChange(pagination, filters, sorter);\r\n    }\r\n    this.setState({\r\n      pagination\r\n    },()=>{\r\n      this.fetchDataAjax(this.state.queryCond,pagination,filters,sorter);\r\n    });\r\n  }\r\n  onRowClick=(record, index)=>{\r\n    if(this.props.onRowClick){\r\n      this.props.onRowClick(record, index);\r\n    }\r\n  }\r\n  fetchDataAjax=(queryCond,pagination,filters, sorter)=>{\r\n    if(this.props.beforeQuery){\r\n      try{\r\n        queryCond = this.props.beforeQuery(queryCond);\r\n      }catch(e){\r\n        this.setState({loading:false});\r\n        return;\r\n      }\r\n    }\r\n    this.setState({ queryCond, loading: true });\r\n    let ajaxMethod = util.ajaxJson;\r\n    \r\n    let queryCondParam = Object.assign({},queryCond,this.props.pagination?{[this.props.currentPageName]:this.state.pagination.current,[this.props.pageSizeName]:this.state.pagination.pageSize}:undefined);\r\n    if(typeof this.props.ajax == 'string'){\r\n      let queryParam=this.props.queryCondHandler(queryCondParam,pagination,filters,sorter);\r\n      ajaxMethod(this.props.ajax, queryParam, (result)=>{\r\n        if(this.props.resultHandler){\r\n          this.props.resultHandler(result,queryParam);\r\n        }\r\n        let tableData = [];\r\n        if(Array.isArray(result)){\r\n          tableData = result;\r\n        }else{\r\n          for(let k in result){\r\n            if(Array.isArray(result[k]) && k != 'logs'){\r\n              tableData = result[k];\r\n            }\r\n          }\r\n        }\r\n        if(this.props.pagination){\r\n          this.state.pagination.total=result[this.props.totalName];\r\n        }\r\n        !this.unmount&&this.setState({\r\n          tableData,\r\n          loading: false,\r\n          pagination: this.props.pagination ? this.state.pagination : undefined\r\n        });\r\n      },err=>{\r\n        !this.unmount&&this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n    }else if(typeof this.props.ajax == 'function'){// 解决请求前需要异步请求前提数据场景\r\n      this.props.ajax(this.props.queryCondHandler(queryCondParam,pagination,filters,sorter), (tableData,total)=>{\r\n        if(this.props.pagination){\r\n          this.state.pagination.total=total;\r\n        }\r\n        !this.unmount&&this.setState({\r\n          tableData,\r\n          loading: false,\r\n          pagination: this.props.pagination ? this.state.pagination : undefined\r\n        });\r\n      });\r\n    }\r\n    \r\n  }\r\n\r\n  componentWillUnmount(){\r\n    this.unmount=true;\r\n  }\r\n  render() {\r\n    return (<Table rowKey={this.props.rowKey?this.props.rowKey:record=>record.id} rowSelection={this.props.rowSelection} columns={this.columns} dataSource={this.state.tableData} pagination={this.props.pagination ? this.state.pagination : false} onChange={this.handleTableChange} onRow={this.onRowClick} loading={this.state.loading} size={this.props.size} scroll={this.props.scroll} bordered={this.props.bordered} title={this.props.title} rowClassName={this.props.rowClassName} expandedRowRender={this.props.expandedRowRender} expandIcon={this.props.expandIcon} expandRowByClick={this.props.expandRowByClick} expandedRowKeys={this.props.expandedRowKeys?this.props.expandedRowKeys():[]} />);\r\n  }\r\n}","import React,{Component} from 'react';\r\nimport {\r\n  Popconfirm,\r\n  message\r\n} from 'antd';\r\nimport {emitter,util} from '../../../common/common';\r\nimport Grid from './grid';\r\nexport default class BizTable extends Component {\r\n  constructor(...args) {\r\n    super(...args);\r\n    this.columns = this.props.config.fields.filter(f=>!f.notInTable).map(f=>{\r\n      let column = {key:f.key,title:f.label,width:f.width};\r\n      if(f.type=='datetime'){\r\n        column.render= (text,record) => util.formatDate(text);\r\n      }\r\n      if(f.enums){\r\n        const enumObj = {};\r\n        let {enums}=f;\r\n        if(typeof enums=='function'){\r\n          enums=enums();\r\n        }\r\n        enums.forEach(e=>{\r\n          let key,value;\r\n          key=Array.isArray(e)?e[0]:(typeof e == 'string' ? e : e.key);\r\n          value=Array.isArray(e)?e[1]:(typeof e == 'string' ? e : e.text);\r\n          enumObj[key]=value;\r\n        });\r\n        column.render= (text,record,idx) => {\r\n          if(f.render){\r\n            return f.render(text,record,idx,enumObj[text]);\r\n          }else{\r\n            if(Array.isArray(text)){\r\n              return text.map(it=>enumObj[it]).join(',');\r\n            }\r\n            return enumObj[text];\r\n          }\r\n        };\r\n      }else{\r\n        if(f.render){\r\n          column.render = f.render.bind(f);\r\n        }\r\n      }\r\n      return column;\r\n    });\r\n    if(this.props.config.table&&this.props.config.table.rowKey){\r\n      this.rowKey = this.props.config.table.rowKey;\r\n    }else{\r\n      this.rowKey = r=>r[this.props.config.fields.filter(f=>f.rowKey)[0].key];\r\n    }\r\n    \r\n    let {updateInterface,deleteInterface} = this.props.config.api;\r\n    let canDelete = !!deleteInterface;\r\n    if(updateInterface || deleteInterface || this.props.config.operationAddon){\r\n      this.columns.push({\r\n          title: '操作',\r\n          key: 'operation',\r\n          render: (text, record) => {\r\n            if(this.props.config.table&&this.props.config.table.canModify){// 是否可修改\r\n              updateInterface = this.props.config.table.canModify(record);\r\n            }\r\n            if(this.props.config.table&&this.props.config.table.canDelete){// 是否可删除\r\n              canDelete = this.props.config.table.canDelete(record);\r\n            }\r\n            return (\r\n              <div className=\"opt-container\">\r\n                {updateInterface&&<a onClick={()=>{\r\n                  emitter.emit(`show${this.props.config.key}Dialog`, record, 'modify');\r\n                }}>修改</a>}\r\n                {canDelete&&<Popconfirm title={'确定要删除？'} onConfirm={()=>{\r\n                  let params={};\r\n                  for(let k in deleteInterface.params){\r\n                    params[k] = record[deleteInterface.params[k]];\r\n                  }\r\n                  if(this.props.config.table&&this.props.config.table.beforeDelete){\r\n                    params = this.props.config.table.beforeDelete(params,record);\r\n                  }\r\n                  util.ajaxJson(deleteInterface.func,params,(result)=>{\r\n                    if(result.success){\r\n                      message.success('删除成功！');\r\n                    }\r\n                    emitter.emit(`query${this.props.config.key}Table`,undefined,true);\r\n                  });\r\n                }}>\r\n                  <a>删除</a>\r\n                </Popconfirm>}\r\n                {this.props.config.operationAddon&&this.props.config.operationAddon(record)}\r\n              </div>\r\n            );\r\n        }\r\n      });\r\n    }\r\n\r\n    if(this.props.config.operationPreAddon){\r\n      this.columns.splice(0,0,{\r\n        title: '操作',\r\n        key: 'preOperation',\r\n        render: (text, record) => {\r\n          return (\r\n                <div className=\"pre-opt-container\">\r\n                {this.props.config.operationPreAddon(record)}\r\n                </div>);\r\n        }\r\n      });\r\n    }\r\n    \r\n    this.state = {\r\n    };\r\n  }\r\n  render() {\r\n    return (<Grid rowKey={this.rowKey} ajax={this.props.config.api.queryInterface.func} beforeQuery={this.props.config.queryCond&&this.props.config.queryCond.beforeQuery} queryEmitter={`query${this.props.config.key}Table`} columns={this.columns} {...this.props.config.table}/>);\r\n  }\r\n}","import React,{Component} from 'react';\r\nimport {\r\n  Form,\r\n  Input,\r\n  Button,\r\n  Checkbox,\r\n  Radio,\r\n  Tooltip,\r\n  Icon,\r\n  Select,\r\n  Modal,\r\n  message,\r\n  Cascader,\r\n  InputNumber,\r\n  Col,\r\n  Row\r\n} from 'antd';\r\nimport {emitter,util} from '../../../common/common';\r\nimport Field from './field';\r\nconst RadioButton = Radio.Button;\r\nconst FormItem = Form.Item;\r\nconst Option = Select.Option;\r\n\r\nexport default class BizForm extends Component{\r\n  constructor(...args) {\r\n    super(...args);\r\n    this.hiddenFields = this.props.config.fields.filter(f=>f.isHiddenInForm&&!f.notInForm);\r\n    this.formFields = this.props.config.fields.filter(f=>!f.notInForm&&!f.isHiddenInForm);\r\n    emitter.on(`show${this.props.config.key}Dialog`, (formData, optType)=>{\r\n      if(this.props.config.form&&this.props.config.form.beforeShowDialog){\r\n        let shouldShow = this.props.config.form.beforeShowDialog(formData, optType);\r\n        if(!shouldShow)return;\r\n      }\r\n      this.setState({\r\n        visible:true,\r\n        optType\r\n      },()=>{\r\n        if (optType == 'modify') {\r\n          let fieldsValue = formData;\r\n          if(this.props.config.form&&this.props.config.form.beforeModify){\r\n            fieldsValue = this.props.config.form.beforeModify(formData);\r\n          }\r\n          this.setState({formValues:fieldsValue});\r\n        } else {\r\n          let formValues = {};\r\n          if(this.props.config.form&&this.props.config.form.beforeAdd){\r\n            let fieldsValue = this.props.config.form.beforeAdd(formData);\r\n            fieldsValue&&(formValues=fieldsValue);\r\n          }\r\n          this.setState({formValues});\r\n        }\r\n      });\r\n    });\r\n    this.state = {\r\n      visible: false,\r\n      optType: 'add',\r\n      formValues:{}\r\n    };\r\n  }\r\n  handleSubmit=()=>{\r\n    util.validateFields.call(this, values=>{\r\n      let fieldsValue = values;\r\n      if(this.props.config.form&&this.props.config.form.beforeSubmit){\r\n        fieldsValue = this.props.config.form.beforeSubmit(values, this.state.optType);\r\n      }\r\n      let hideLoading = message.loading('executing', 10);\r\n      util.ajaxJson(this.state.optType == 'modify' ? this.props.config.api.updateInterface.func : this.props.config.api.insertInterface.func,\r\n        {rec:fieldsValue},(data)=>{\r\n          if(data.success){\r\n            if(data.result&&data.result.resultType=='FAIL'){\r\n              message.error('保存失败, 原因：' + data.result.failMessage);\r\n            }else{\r\n              message.success('保存成功');\r\n            }\r\n            this.setState({\r\n              visible: false\r\n            },()=>{\r\n              this.setState({});\r\n            });\r\n            setTimeout(()=>{\r\n              emitter.emit(`query${this.props.config.key}Table`, undefined, true);\r\n            },this.props.config.delayQueryTable?this.props.config.delayQueryTable:0);\r\n          }\r\n          if(this.props.config.form&&this.props.config.form.afterSubmit){\r\n            this.props.config.form.afterSubmit(data,fieldsValue);\r\n          }\r\n          hideLoading();\r\n      },()=>{\r\n        hideLoading();\r\n      });\r\n\r\n    });\r\n  }\r\n  handleCancel=()=>{\r\n    if(this.props.config.form&&this.props.config.form.beforeCancel){\r\n      this.props.config.form.beforeCancel();\r\n    }\r\n    this.setState({\r\n      visible: false,\r\n      formValues:{}\r\n    });\r\n  }\r\n\r\n  shouldFieldDisplay=(field)=>{\r\n    let shouldDisplay = true;\r\n    if(this.state.optType=='add'&&field.notInAdd===true){\r\n      shouldDisplay = false;\r\n    }\r\n    return shouldDisplay;\r\n  }\r\n\r\n  isRequired=(field)=>{\r\n    if(field&&field.rules&&field.rules.length>0){\r\n      for (let k in field.rules) {\r\n        if(field.rules[k].required){\r\n          return true;\r\n        }\r\n      }\r\n    }\r\n    return false;\r\n  }\r\n\r\n  render() {\r\n    const formItemLayout = {labelCol: {span: 6},wrapperCol: {span: 14}};\r\n    let col = 1,className;\r\n    if(this.props.config.form){\r\n      if(this.props.config.form.col){\r\n        col = this.props.config.form.col;\r\n      }\r\n      if(this.props.config.form.className){\r\n        className = this.props.config.form.className;\r\n        this['__formClassName_']=className;\r\n      }\r\n    }\r\n    let modalTitle=typeof this.props.config.title =='string'?this.props.config.title:'';\r\n    return (<Modal title={this.state.optType == 'modify' ? `修改 ${modalTitle}` : `新增 ${modalTitle}`} maskClosable={false} visible={this.state.visible} width={this.props.config.dialog.width} onCancel = {this.handleCancel} footer = {\r\n        [<Button key=\"1\" type=\"primary\" size=\"large\" onClick={this.handleSubmit}>\r\n            保存\r\n         </Button>,\r\n         <Button key=\"2\" type=\"ghost\" size=\"large\" onClick={this.handleCancel}>\r\n            取消\r\n         </Button>]\r\n      }>\r\n      <Form className={className}>\r\n        {this.hiddenFields.map(hiddenField=>{\r\n          return <Input key={hiddenField.key} type=\"hidden\" {...util.getField.bind(this)(hiddenField.key,{...hiddenField.options})}/>;\r\n        })}\r\n        <Row>\r\n        {this.formFields.filter(field=>{\r\n          if(field.shouldDisplay&&field.shouldDisplay(this)===false){\r\n            return false;\r\n          }\r\n          return true;\r\n        }).map(field=>{\r\n          let label = <span>{field.label}{field.tooltip}</span>;\r\n          return (<Col key={field.key} span={24/col}><FormItem required={this.isRequired(field)} style={{display:this.shouldFieldDisplay(field)?'block':'none'}} label={label} {...formItemLayout}>\r\n          <Field field={field} optType={this.state.optType} {...field.props} {...util.getField.bind(this)(field.key,{rules:field.rules,...field.options})}/>\r\n        </FormItem></Col>);\r\n        })}\r\n        </Row>\r\n      </Form></Modal>\r\n    );\r\n  }\r\n}","import React,{Component,Fragment} from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport Table from './table/table';\r\nimport Form from './form/form';\r\nimport QueryCond from './table/queryCond';\r\nimport {emitter} from '../../common/common';\r\nimport {\r\n  Button,\r\n  Row,\r\n  Col,Icon\r\n} from 'antd';\r\nimport './index.less';\r\n\r\nexport default class BizIndex extends Component {\r\n  constructor(...args) {\r\n    super(...args);\r\n    this.components={};\r\n    this.state = {\r\n         keyword:''\r\n    };\r\n  }\r\n\r\n  getForm=()=>{\r\n    return this.components.form;\r\n  }\r\n  \r\n  render() {\r\n    let {onlyUseForm} = this.props;// 只是想用下表单，场景：其他页面想新增/修改时\r\n    return (\r\n      <div className={this.props.config.key+\"-container\"}>\r\n        {!onlyUseForm&&<Fragment>\r\n          <Row type=\"flex\" justify=\"space-between\" className=\"table-header\">\r\n            <Col span={6}><h2>{this.props.config.title}</h2></Col>\r\n            <Col span={2}>\r\n            </Col>\r\n            <Col span={14}></Col>\r\n            <Col span={2}>{this.props.config.api.insertInterface&&<Button type=\"primary\" size=\"small\" className=\"button\" onClick={()=>{\r\n              emitter.emit(`show${this.props.config.key}Dialog`, undefined, 'add');\r\n            }}><Icon type=\"plus\" />新增</Button>}</Col>\r\n          </Row>\r\n          <QueryCond wrappedComponentRef={e=>{\r\n            this.components.queryCond=e;\r\n          }} {...this.props}/>\r\n          <Table ref={e=>{\r\n            this.components.table=e;\r\n          }} {...this.props}/>\r\n        </Fragment>}\r\n        <Form ref={e=>{\r\n            this.components.form=e;\r\n          }} {...this.props} />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n","var map = {\n\t\"./bill/queryBill/index.js\": 430,\n\t\"./common/indicates/index.js\": 590,\n\t\"./contact/index.js\": 591,\n\t\"./operate/ballRoom/index.js\": 518,\n\t\"./operate/member/index.js\": 592,\n\t\"./operate/memberBill/index.js\": 570,\n\t\"./sys/optLog/index.js\": 573,\n\t\"./sys/sysRole/index.js\": 576,\n\t\"./sys/sysUser/index.js\": 579,\n\t\"./task/index.js\": 582,\n\t\"./train/coach/index.js\": 585,\n\t\"./train/student/index.js\": 589\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tvar id = map[req];\n\tif(!(id + 1)) { // check for number or string\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn id;\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 429;","import React,{Component} from 'react';\r\nimport {message,Input,Modal,Table,Button,Tooltip,Popover,Icon, DatePicker} from 'antd';\r\nimport './index.less';\r\nimport copy from 'copy-to-clipboard';\r\nimport {util,emitter} from '../../../common/common';\r\nimport BizComp from '../../../components/common';\r\nimport {urlPrefix,urlProductPrefix} from '../../../interfaces/interfaces';\r\n\r\nimport QueryCond from '../../../components/common/table/queryCond';\r\n\r\nexport default class BizComponent extends Component {\r\n  constructor(...args) {\r\n    super(...args);\r\n    emitter.on(`menu-clicked-bill/queryBill`,()=>{\r\n      emitter.emit('queryBillQueryTable');\r\n    });\r\n    this.config = {\r\n      title:'账单查询',\r\n      key:'BillQuery',\r\n      dialog:{width:1060},\r\n      delayQueryTable:1000,\r\n      queryCond:{\r\n        conditions:[[{key:'io'},{key:'domain'},{key:'cate'}],[{key:'startTime',type:'custom',label:'开始时间',getComponent:props=><DatePicker showTime {...props}></DatePicker>},{key:'endTime',label:'截止时间',type:'custom',getComponent:props=><DatePicker showTime {...props}></DatePicker>},{key:'subCate'}]],\r\n        beforeQuery:queryParam=>{\r\n          queryParam = queryParam || {};\r\n          this.queryParam=queryParam;\r\n          return queryParam;\r\n        },\r\n        size:'small'\r\n      },\r\n      fields:[\r\n        {\r\n          key:'id',\r\n          rowKey:true,\r\n          notInTable:true,\r\n          label:'id'\r\n        },{\r\n          key:'billTime',\r\n          width:'10%',\r\n          render:(v,r)=>util.formatDate(v),\r\n          label:'记账时间'\r\n        },{\r\n          key:'io',\r\n          width:'10%',\r\n          enums:['收入','支出'],\r\n          label:'出入账'\r\n        },{\r\n          key:'amount',\r\n          width:'10%',\r\n          label:'金额(元)'\r\n        },{\r\n          key:'domain',\r\n          width:'10%',\r\n          enums:['会员','训练','比赛','器材'],\r\n          label:'主体'\r\n        },{\r\n          key:'cate',\r\n          width:'10%',\r\n          label:'分类'\r\n        },{\r\n          key:'subCate',\r\n          width:'10%',\r\n          label:'细分'\r\n        },{\r\n          key:'reason',\r\n          width:'10%',\r\n          label:'事项'\r\n        },{\r\n          key:'status',\r\n          width:'10%',\r\n          enums:[{key:1,text:'生效'},{key:0,text:'作废'}],\r\n          label:'状态'\r\n        },{\r\n          key:'operator',\r\n          width:'10%',\r\n          label:'操作人'\r\n        }\r\n      ],\r\n      // operationAddon:record=>{\r\n      //   return (<span><a onClick={()=>{\r\n          \r\n      //   }}>设计</a></span>);\r\n      // },\r\n      form:{\r\n        col:1,\r\n        beforeAdd:formData=>{\r\n          return {status:'0'};\r\n        },\r\n        beforeModify:formData=>{\r\n          return formData;\r\n        },\r\n        beforeSubmit:this.getFormData\r\n      },\r\n      table:{\r\n        bordered:true,\r\n        lazyInit:true,\r\n        size:'small',\r\n        resultHandler:(result,queryParam)=>{\r\n          result.list=result.data.data;\r\n          result.totalItem=result.data.totalItem;\r\n        }\r\n      },\r\n      api:{\r\n        queryInterface:{func:urlPrefix+'BillOperation?opt=queryBill'},\r\n      }\r\n    };\r\n    this.state={\r\n    };\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n       <BizComp config={this.config}/>\r\n      </div>\r\n    );\r\n  }\r\n}","import React,{Component} from 'react';\r\nimport {message,Input,Modal,Table,Button,Tooltip,Popover,Icon,Select} from 'antd';\r\nimport './index.less';\r\nimport copy from 'copy-to-clipboard';\r\nimport {util,emitter} from '../../../common/common';\r\nimport BizComp from '../../../components/common';\r\nimport {urlPrefix,urlProductPrefix} from '../../../interfaces/interfaces';\r\nimport {allRoles,isAdmin,allStaffs} from '../../../entry/index/routes/IndexPage';\r\n\r\nexport default class BizComponent extends Component {\r\n  constructor(...args) {\r\n    super(...args);\r\n    this.config = {\r\n      title:'球馆管理',\r\n      key:'ballRoom',\r\n      dialog:{width:1060},\r\n      delayQueryTable:1000,\r\n      queryCond:{\r\n      conditions:[[{key:'name'}]],\r\n        beforeQuery:queryParam=>{\r\n          queryParam = queryParam || {};\r\n          this.queryParam=queryParam;\r\n          return queryParam;\r\n        },\r\n        size:'small'\r\n      },\r\n      fields:[\r\n        {\r\n          key:'id',\r\n          rowKey:true,\r\n          notInForm:true,\r\n          notInTable:true,\r\n          label:'id'\r\n        },{\r\n          key:'name',\r\n          width:'15%',\r\n          rules:[{required: true, message: '必填'}],\r\n          label:'名称'\r\n        },{\r\n          key:'address',\r\n          width:'20%',\r\n          rules:[{required: true, message: '必填'}],\r\n          label:'地址'\r\n        },{\r\n          key:'boss',\r\n          width:'10%',\r\n          rules:[{required: true, message: '必填'}],\r\n          label:'法人'\r\n        },{\r\n          key:'staffs',\r\n          width:'30%',\r\n          enums:allStaffs.map(it=>({key:it.id+'',text:it.name})),\r\n          rules:[{required: true, message: '必填'}],\r\n          multi:true,\r\n          label:'球馆员工'\r\n        },{\r\n          key:'gmtModified',\r\n          notInForm:true,\r\n          width:'10%',\r\n          render:(v,r)=>util.formatDate(v),\r\n          label:'修改时间'\r\n        },{\r\n          key:'gmtCreate',\r\n          notInForm:true,\r\n          width:'10%',\r\n          render:(v,r)=>util.formatDate(v),\r\n          label:'创建时间'\r\n        }\r\n      ],\r\n      // operationAddon:record=>{\r\n      //   return (<span><a onClick={()=>{\r\n          \r\n      //   }}>设计</a></span>);\r\n      // },\r\n      form:{\r\n        col:1,\r\n        beforeAdd:formData=>{\r\n          return {};\r\n        },\r\n        beforeModify:formData=>{\r\n          return formData;\r\n        },\r\n        beforeSubmit:formData=>{\r\n          formData.ext=JSON.stringify({staffs:formData.staffs});\r\n          delete formData.staffs;\r\n          return formData;\r\n        }\r\n      },\r\n      table:{\r\n        bordered:true,\r\n        size:'small',\r\n        resultHandler:(result,queryParam)=>{\r\n          result.list=result.data.data;\r\n          result.list.forEach(it=>{\r\n            if(it.ext){\r\n              it.staffs=JSON.parse(it.ext).staffs;\r\n            }\r\n          });\r\n          result.totalItem=result.data.totalItem;\r\n        }\r\n      },\r\n      api:{\r\n        queryInterface:{func:urlPrefix+'BallRoomOperation?opt=queryBallRoom'},\r\n        updateInterface:isAdmin?{func:urlPrefix+'BallRoomOperation?opt=updateBallRoom'}:undefined,\r\n        insertInterface:isAdmin?{func:urlPrefix+'BallRoomOperation?opt=insertBallRoom'}:undefined,\r\n        deleteInterface:isAdmin?{func:urlPrefix+'BallRoomOperation?opt=deleteBallRoom',params:{id:'id'}}:undefined\r\n      }\r\n    };\r\n    this.state={\r\n    };\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n       <BizComp config={this.config}/>\r\n      </div>\r\n    );\r\n  }\r\n}","import React,{Component} from 'react';\r\nimport {message,Input,Modal,Table,Button,Tooltip,Popover,Icon} from 'antd';\r\nimport './index.less';\r\nimport copy from 'copy-to-clipboard';\r\nimport {util,emitter} from '../../../common/common';\r\nimport BizComp from '../../../components/common';\r\nimport {urlPrefix,urlProductPrefix} from '../../../interfaces/interfaces';\r\nimport {allRoles,isAdmin,allStaffs,rooms} from '../../../entry/index/routes/IndexPage';\r\n\r\nexport default class BizComponent extends Component {\r\n  constructor(...args) {\r\n    super(...args);\r\n    emitter.on(`menu-clicked-operate/memberBill`,()=>{\r\n      emitter.emit('queryMemberBillTable');\r\n    });\r\n    this.config = {\r\n      title:'会员流水',\r\n      key:'MemberBill',\r\n      dialog:{width:1060},\r\n      delayQueryTable:1000,\r\n      queryCond:{\r\n        conditions:[[{key:'memberName'},{key:'phone'}]],\r\n        beforeQuery:queryParam=>{\r\n          queryParam = queryParam || {};\r\n          this.queryParam=queryParam;\r\n          return queryParam;\r\n        },\r\n        size:'small'\r\n      },\r\n      fields:[\r\n        {\r\n          key:'id',\r\n          rowKey:true,\r\n          notInTable:true,\r\n          label:'id'\r\n        },{\r\n          key:'memberName',\r\n          width:'10%',\r\n          label:'会员名'\r\n        },{\r\n          key:'phone',\r\n          width:'10%',\r\n          label:'手机号'\r\n        },{\r\n          key:'operator',\r\n          width:'10%',\r\n          label:'操作人'\r\n        },{\r\n          key:'consumeType',\r\n          width:'10%',\r\n          label:'消费类型'\r\n        },{\r\n          key:'consumeTimes',\r\n          width:'10%',\r\n          label:'消费次数'\r\n        },{\r\n          key:'gmtCreate',\r\n          width:'10%',\r\n          render:(v,r)=>util.formatDate(v),\r\n          label:'操作时间'\r\n        },{\r\n          key:'roomId',\r\n          width:'10%',\r\n          enums:rooms.map(it=>({key:it.id+'',text:it.name})),\r\n          label:'球馆'\r\n        }\r\n      ],\r\n      // operationAddon:record=>{\r\n      //   return (<span><a onClick={()=>{\r\n          \r\n      //   }}>设计</a></span>);\r\n      // },\r\n      form:{\r\n        col:1,\r\n        beforeAdd:formData=>{\r\n          return {status:'0'};\r\n        },\r\n        beforeModify:formData=>{\r\n          return formData;\r\n        },\r\n        beforeSubmit:this.getFormData\r\n      },\r\n      table:{\r\n        bordered:true,\r\n        lazyInit:true,\r\n        size:'small',\r\n        resultHandler:(result,queryParam)=>{\r\n          result.list=result.data.data;\r\n          result.totalItem=result.data.totalItem;\r\n        }\r\n      },\r\n      api:{\r\n        queryInterface:{func:urlPrefix+'MemberOperation?opt=queryMemberBill'},\r\n      }\r\n    };\r\n    this.state={\r\n    };\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n       <BizComp config={this.config}/>\r\n      </div>\r\n    );\r\n  }\r\n}","import React,{Component} from 'react';\r\nimport {message,Input,Modal,Table,Button,Tooltip,Popover,Icon} from 'antd';\r\nimport './index.less';\r\nimport copy from 'copy-to-clipboard';\r\nimport {util,emitter} from '../../../common/common';\r\nimport BizComp from '../../../components/common';\r\nimport {urlPrefix,urlProductPrefix} from '../../../interfaces/interfaces';\r\n\r\nimport QueryCond from '../../../components/common/table/queryCond';\r\n\r\nexport default class BizComponent extends Component {\r\n  constructor(...args) {\r\n    super(...args);\r\n    emitter.on(`menu-clicked-sys/optLog`,()=>{\r\n      emitter.emit('queryOptLogTable');\r\n    });\r\n    this.config = {\r\n      title:'操作日志',\r\n      key:'OptLog',\r\n      dialog:{width:1060},\r\n      delayQueryTable:1000,\r\n      queryCond:{\r\n        conditions:[[{key:'type'},{key:'accountName'}]],\r\n        beforeQuery:queryParam=>{\r\n          queryParam = queryParam || {};\r\n          this.queryParam=queryParam;\r\n          return queryParam;\r\n        },\r\n        size:'small'\r\n      },\r\n      fields:[\r\n        {\r\n          key:'id',\r\n          rowKey:true,\r\n          notInTable:true,\r\n          label:'id'\r\n        },{\r\n          key:'accountName',\r\n          width:'10%',\r\n          label:'操作人'\r\n        },{\r\n          key:'type',\r\n          width:'10%',\r\n          label:'操作类型'\r\n        },{\r\n          key:'content',\r\n          width:'40%',\r\n          render:(v,r)=>{\r\n            let reg = new RegExp(`\"customer_name\":\"(.+?)\"`,\"mg\");\r\n            let rs;\r\n            let resArr=[];\r\n            while((rs=reg.exec(v)) != null){\r\n              if(rs.length>0){\r\n                resArr.push(rs[1]);\r\n              }\r\n            }\r\n            if(resArr.length>0){\r\n              let resStr=resArr.join(', ');\r\n              if(r.type=='doTransfer'){\r\n                let obj=JSON.parse(v);\r\n                return `【转交数：${obj.customers.length}，接收人：${obj.owner_name}】 客户明细：${resStr}`;\r\n              }\r\n              return resStr;\r\n            }\r\n            return v;\r\n          },\r\n          label:'操作对象'\r\n        },{\r\n          key:'gmtCreate',\r\n          width:'10%',\r\n          render:(v,r)=>util.formatDate(v),\r\n          label:'操作时间'\r\n        },{\r\n          key:'ip',\r\n          width:'10%',\r\n          label:'IP'\r\n        },{\r\n          key:'ua',\r\n          width:'10%',\r\n          label:'客户端'\r\n        }\r\n      ],\r\n      // operationAddon:record=>{\r\n      //   return (<span><a onClick={()=>{\r\n          \r\n      //   }}>设计</a></span>);\r\n      // },\r\n      form:{\r\n        col:1,\r\n        beforeAdd:formData=>{\r\n          return {status:'0'};\r\n        },\r\n        beforeModify:formData=>{\r\n          return formData;\r\n        },\r\n        beforeSubmit:this.getFormData\r\n      },\r\n      table:{\r\n        bordered:true,\r\n        lazyInit:true,\r\n        size:'small',\r\n        resultHandler:(result,queryParam)=>{\r\n          result.list=result.data.data;\r\n          result.totalItem=result.data.totalItem;\r\n        }\r\n      },\r\n      api:{\r\n        queryInterface:{func:urlPrefix+'SysUserFramework?opt=queryOptLog'},\r\n      }\r\n    };\r\n    this.state={\r\n    };\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n       <BizComp config={this.config}/>\r\n      </div>\r\n    );\r\n  }\r\n}","import React,{Component} from 'react';\r\nimport {message,Input,Modal,Table,Button,Tooltip,Popover,Icon,Select} from 'antd';\r\nimport './index.less';\r\nimport copy from 'copy-to-clipboard';\r\nimport {util,emitter} from '../../../common/common';\r\nimport BizComp from '../../../components/common';\r\nimport {urlPrefix,urlProductPrefix} from '../../../interfaces/interfaces';\r\nimport {allRoles,menus,urls,isAdmin} from '../../../entry/index/routes/IndexPage';\r\n\r\nexport default class BizComponent extends Component {\r\n  constructor(...args) {\r\n    super(...args);\r\n    this.config = {\r\n      title:'角色管理',\r\n      key:'sysRole',\r\n      dialog:{width:1060},\r\n      delayQueryTable:1000,\r\n      queryCond:{\r\n      conditions:[[{key:'name'}]],\r\n        beforeQuery:queryParam=>{\r\n          queryParam = queryParam || {};\r\n          this.queryParam=queryParam;\r\n          return queryParam;\r\n        },\r\n        size:'small'\r\n      },\r\n      fields:[\r\n        {\r\n          key:'id',\r\n          rowKey:true,\r\n          notInForm:true,\r\n          notInTable:true,\r\n          label:'id'\r\n        },{\r\n          key:'name',\r\n          width:'6%',\r\n          rules:[{required: true, message: '必填'}],\r\n          label:'名称'\r\n        },{\r\n          key:'type',\r\n          width:'4%',\r\n          notInForm:true,\r\n          enums:[{key:'系统',text:'系统'},{key:'自定义',text:'自定义'}],\r\n          label:'类型'\r\n        },{\r\n          key:'menus',\r\n          width:'20%',\r\n          enums:()=>menus.map(it=>({key:it.code,text:it.name})),\r\n          rules:[{required: true, message: '必填'}],\r\n          multi:true,\r\n          label:'角色包含菜单'\r\n        },{\r\n          key:'urls',\r\n          width:'20%',\r\n          enums:()=>urls.map(it=>({key:it.code,text:it.name})),\r\n          rules:[{required: true, message: '必填'}],\r\n          multi:true,\r\n          label:'角色包含功能'\r\n        },{\r\n          key:'gmtModified',\r\n          notInForm:true,\r\n          width:'10%',\r\n          render:(v,r)=>util.formatDate(v),\r\n          label:'修改时间'\r\n        },{\r\n          key:'gmtCreate',\r\n          notInForm:true,\r\n          width:'10%',\r\n          render:(v,r)=>util.formatDate(v),\r\n          label:'创建时间'\r\n        }\r\n      ],\r\n      // operationAddon:record=>{\r\n      //   return (<span><a onClick={()=>{\r\n          \r\n      //   }}>设计</a></span>);\r\n      // },\r\n      form:{\r\n        col:1,\r\n        beforeAdd:formData=>{\r\n          return {type:'自定义'};\r\n        },\r\n        beforeModify:formData=>{\r\n          return formData;\r\n        },\r\n        beforeSubmit:formData=>{\r\n          formData.content=JSON.stringify({menus:formData.menus,urls:formData.urls});\r\n          return formData;\r\n        },\r\n        afterSubmit:res=>{\r\n          emitter.emit('init-user-info');\r\n        }\r\n      },\r\n      table:{\r\n        bordered:true,\r\n        size:'small',\r\n        canModify:r=>r.type=='自定义',\r\n        canDelete:r=>r.type!='系统',\r\n        resultHandler:(result,queryParam)=>{\r\n          result.list=result.data.data;\r\n          result.list.forEach(it=>{\r\n            if(it.content){\r\n              let contentObj=JSON.parse(it.content);\r\n              if(contentObj){\r\n                it.menus=contentObj.menus;\r\n                it.urls=contentObj.urls;\r\n              }\r\n            }\r\n          });\r\n          result.totalItem=result.data.totalItem;\r\n        }\r\n      },\r\n      api:{\r\n        queryInterface:{func:urlPrefix+'SysUserFramework?opt=querySysRole'},\r\n        updateInterface:isAdmin?{func:urlPrefix+'SysUserFramework?opt=updateSysRole'}:undefined,\r\n        insertInterface:isAdmin?{func:urlPrefix+'SysUserFramework?opt=insertSysRole'}:undefined,\r\n        deleteInterface:isAdmin?{func:urlPrefix+'SysUserFramework?opt=deleteSysRole',params:{id:'id'}}:undefined\r\n      }\r\n    };\r\n    this.state={\r\n    };\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n       <BizComp config={this.config}/>\r\n      </div>\r\n    );\r\n  }\r\n}","import React,{Component} from 'react';\r\nimport {message,Input,Modal,Table,Button,Tooltip,Popover,Icon,Select} from 'antd';\r\nimport './index.less';\r\nimport copy from 'copy-to-clipboard';\r\nimport {util,emitter} from '../../../common/common';\r\nimport BizComp from '../../../components/common';\r\nimport {urlPrefix,urlProductPrefix} from '../../../interfaces/interfaces';\r\nimport {allRoles,isAdmin} from '../../../entry/index/routes/IndexPage';\r\n\r\nexport default class BizComponent extends Component {\r\n  constructor(...args) {\r\n    super(...args);\r\n    this.config = {\r\n      title:'人员组织',\r\n      key:'sysUser',\r\n      dialog:{width:1060},\r\n      delayQueryTable:1000,\r\n      queryCond:{\r\n      conditions:[[{key:'name'},{key:'phone'},{key:'role',type:'custom',getComponent:(props)=>(<Select {...props} mode={undefined}>{allRoles.map(it=><Select.Option key={it.id+''} value={it.id+''}>{it.name}</Select.Option>)}</Select>)}]],\r\n        beforeQuery:queryParam=>{\r\n          queryParam = queryParam || {};\r\n          this.queryParam=queryParam;\r\n          return queryParam;\r\n        },\r\n        size:'small'\r\n      },\r\n      fields:[\r\n        {\r\n          key:'id',\r\n          rowKey:true,\r\n          notInForm:true,\r\n          notInTable:true,\r\n          label:'id'\r\n        },{\r\n          key:'name',\r\n          width:'10%',\r\n          label:'姓名'\r\n        },{\r\n          key:'phone',\r\n          width:'10%',\r\n          rules:[{required: true, message: '必填'},{validator:v=>{\r\n            return /^1[0-9]{10}$/.test(v);\r\n          },message:'必须为1开头的11位手机号'}],\r\n          label:'手机号'\r\n        },{\r\n          key:'role',\r\n          width:'20%',\r\n          enums:allRoles.map(it=>({key:it.id,text:it.name})),\r\n          rules:[{required: true, message: '必填'}],\r\n          multi:true,\r\n          label:'角色'\r\n        },{\r\n          key:'status',\r\n          width:'10%',\r\n          enums:[{key:'1',text:'生效'},{key:'0',text:'失效'}],\r\n          label:'状态'\r\n        },{\r\n          key:'gmtModified',\r\n          notInForm:true,\r\n          width:'10%',\r\n          render:(v,r)=>util.formatDate(v),\r\n          label:'修改时间'\r\n        },{\r\n          key:'gmtCreate',\r\n          notInForm:true,\r\n          width:'10%',\r\n          render:(v,r)=>util.formatDate(v),\r\n          label:'创建时间'\r\n        }\r\n      ],\r\n      // operationAddon:record=>{\r\n      //   return (<span><a onClick={()=>{\r\n          \r\n      //   }}>设计</a></span>);\r\n      // },\r\n      form:{\r\n        col:1,\r\n        beforeAdd:formData=>{\r\n          return {status:'1'};\r\n        },\r\n        beforeModify:formData=>{\r\n          formData.status=formData.status+'';\r\n          return formData;\r\n        },\r\n        beforeSubmit:formData=>{\r\n          if(formData.role&&formData.role.length>0){\r\n            if(Array.isArray(formData.role)){\r\n              formData.role=','+formData.role.join(',')+',';\r\n            }\r\n          }else{\r\n            formData.role=undefined;\r\n          }\r\n          return formData;\r\n        }\r\n      },\r\n      table:{\r\n        bordered:true,\r\n        size:'small',\r\n        resultHandler:(result,queryParam)=>{\r\n          result.list=result.data.data;\r\n          result.list.forEach(it=>{\r\n            if(it.role){\r\n              it.role=it.role.split(',').filter(it=>!!it);\r\n            }\r\n          });\r\n          result.totalItem=result.data.totalItem;\r\n        }\r\n      },\r\n      api:{\r\n        queryInterface:{func:urlPrefix+'SysUserFramework?opt=querySysUser'},\r\n        updateInterface:isAdmin?{func:urlPrefix+'SysUserFramework?opt=updateSysUser'}:undefined,\r\n        insertInterface:isAdmin?{func:urlPrefix+'SysUserFramework?opt=insertSysUser'}:undefined,\r\n        deleteInterface:isAdmin?{func:urlPrefix+'SysUserFramework?opt=deleteSysUser',params:{id:'id'}}:undefined\r\n      }\r\n    };\r\n    this.state={\r\n    };\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n       <BizComp config={this.config}/>\r\n      </div>\r\n    );\r\n  }\r\n}","import React,{Component} from 'react';\r\nimport {message,Input,Modal,Table,Button,Tooltip,Popover,Icon, Popconfirm} from 'antd';\r\nimport './index.less';\r\nimport copy from 'copy-to-clipboard';\r\nimport {util,emitter} from '../../common/common';\r\nimport BizComp from '../../components/common';\r\nimport {urlPrefix,urlProductPrefix} from '../../interfaces/interfaces';\r\n\r\nimport QueryCond from '../../components/common/table/queryCond';\r\n\r\nexport default class BizComponent extends Component {\r\n  constructor(...args) {\r\n    super(...args);\r\n    emitter.on(`menu-clicked-task`,()=>{\r\n      emitter.emit('queryTaskTable');\r\n    });\r\n    this.config = {\r\n      title:'任务待办',\r\n      key:'Task',\r\n      dialog:{width:1060},\r\n      queryCond:{\r\n        conditions:[[{key:'type'}]],\r\n        beforeQuery:queryParam=>{\r\n          queryParam = queryParam || {};\r\n          this.queryParam=queryParam;\r\n          return queryParam;\r\n        },\r\n        size:'small'\r\n      },\r\n      fields:[\r\n        {\r\n          key:'id',\r\n          rowKey:true,\r\n          notInTable:true,\r\n          label:'id'\r\n        },{\r\n          key:'name',\r\n          width:'10%',\r\n          label:'执行人'\r\n        },{\r\n          key:'type',\r\n          width:'10%',\r\n          enums:[['跟进','跟进']],\r\n          label:'任务类型'\r\n        },{\r\n          key:'startTime',\r\n          width:'10%',\r\n          render:(v,r)=>util.formatDate(v),\r\n          label:'任务开始时间'\r\n        },{\r\n          key:'expireTime',\r\n          width:'10%',\r\n          render:(v,r)=>util.formatDate(v),\r\n          label:'任务过期时间'\r\n        },{\r\n          key:'todoInfo',\r\n          width:'30%',\r\n          render:(v,r)=>{\r\n            return <pre>{v}</pre>;\r\n          },\r\n          label:'任务内容'\r\n        },{\r\n          key:'status',\r\n          width:'10%',\r\n          render:(v,r)=>{\r\n            if(r.start_time<new Date().getTime())return <span style={{color:'red'}}>已超期</span>;\r\n            if(v===0)return '待处理';\r\n            if(v===1)return '处理中';\r\n            if(v===2)return '已完成';\r\n            if(v===3)return '已放弃';\r\n            return v;\r\n          },\r\n          label:'状态'\r\n        },{\r\n          key:'finish_time',\r\n          width:'10%',\r\n          render:(v,r)=>util.formatDate(v),\r\n          label:'完成时间'\r\n        }\r\n      ],\r\n      operationAddon:r=>{\r\n        return (<span>{r.status===0&&<a onClick={()=>{\r\n          if(r.type=='跟进'){\r\n            emitter.emit('main-clickmenu',{key:'customer'});\r\n            util.ajaxJson(urlPrefix+'?serviceId=crm_base&opt=doTasking',{id:r.id},result=>{\r\n              emitter.emit('do-indicates-search',{company_name:r.customer_name});\r\n            });\r\n          }\r\n        }}>立即处理</a>}{(r.status===0||r.status===1)&&<Popconfirm title=\"是否标记完结？\" okText=\"是\" cancelText=\"否\" onConfirm={()=>{\r\n          util.ajaxJson(urlPrefix+'?serviceId=crm_base&opt=doTasking',{id:r.id,status:2,finish_time:new Date().getTime()},result=>{\r\n            message.success('已完结');\r\n            emitter.emit('queryCrmTaskTable',undefined,true);\r\n          });\r\n        }}><a>标记完结</a></Popconfirm>}</span>);\r\n      },\r\n      form:{\r\n        col:1,\r\n        beforeAdd:formData=>{\r\n          return {status:'0'};\r\n        },\r\n        beforeModify:formData=>{\r\n          return formData;\r\n        },\r\n        beforeSubmit:this.getFormData\r\n      },\r\n      table:{\r\n        bordered:true,\r\n        width:'100%',\r\n        size:'small',\r\n        resultHandler:(result,queryParam)=>{\r\n          result.list=result.data.data;\r\n          result.totalItem=result.data.totalItem;\r\n        }\r\n      },\r\n      api:{\r\n        queryInterface:{func:urlPrefix+'SysUserFramework?opt=listMyTask'},\r\n      }\r\n    };\r\n    this.state={\r\n    };\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n       <BizComp config={this.config}/>\r\n      </div>\r\n    );\r\n  }\r\n}","import React,{Component} from 'react';\r\nimport {message,Input,Modal,Table,Button,Tooltip,Popover,Icon,Select} from 'antd';\r\nimport './index.less';\r\nimport copy from 'copy-to-clipboard';\r\nimport {util,emitter} from '../../../common/common';\r\nimport BizComp from '../../../components/common';\r\nimport {urlPrefix,urlProductPrefix} from '../../../interfaces/interfaces';\r\nimport {allRoles,isAdmin,allStaffs} from '../../../entry/index/routes/IndexPage';\r\n\r\nexport default class BizComponent extends Component {\r\n  constructor(...args) {\r\n    super(...args);\r\n    this.config = {\r\n      title:'教练管理',\r\n      key:'coach',\r\n      dialog:{width:1060},\r\n      delayQueryTable:1000,\r\n      queryCond:{\r\n      conditions:[[{key:'name'}]],\r\n        beforeQuery:queryParam=>{\r\n          queryParam = queryParam || {};\r\n          this.queryParam=queryParam;\r\n          return queryParam;\r\n        },\r\n        size:'small'\r\n      },\r\n      fields:[\r\n        {\r\n          key:'id',\r\n          rowKey:true,\r\n          notInForm:true,\r\n          notInTable:true,\r\n          label:'id'\r\n        },{\r\n          key:'name',\r\n          width:'6%',\r\n          rules:[{required: true, message: '必填'}],\r\n          label:'名称'\r\n        },{\r\n          key:'phone',\r\n          width:'10%',\r\n          rules:[{required: true, message: '必填'},{validator:v=>{\r\n            return /^1[0-9]{10}$/.test(v);\r\n          },message:'必须为1开头的11位手机号'}],\r\n          label:'手机号'\r\n        },{\r\n          key:'introduction',\r\n          width:'20%',\r\n          rules:[{required: true, message: '必填'}],\r\n          label:'简介'\r\n        },{\r\n          key:'score',\r\n          width:'6%',\r\n          type:'number',\r\n          props:{min:0,precision:0},\r\n          label:'积分'\r\n        },{\r\n          key:'unitPrice',\r\n          width:'6%',\r\n          type:'number',\r\n          props:{min:0,precision:0},\r\n          rules:[{required: true, message: '必填'}],\r\n          label:'课时单价'\r\n        },{\r\n          key:'type',\r\n          width:'6%',\r\n          enums:[{key:'乒乓',text:'乒乓'}],\r\n          label:'类型'\r\n        },{\r\n          key:'status',\r\n          width:'6%',\r\n          enums:[{key:'1',text:'在职'},{key:'0',text:'离职'}],\r\n          label:'类型'\r\n        },{\r\n          key:'gmtModified',\r\n          notInForm:true,\r\n          width:'10%',\r\n          render:(v,r)=>util.formatDate(v),\r\n          label:'修改时间'\r\n        },{\r\n          key:'gmtCreate',\r\n          notInForm:true,\r\n          width:'10%',\r\n          render:(v,r)=>util.formatDate(v),\r\n          label:'创建时间'\r\n        }\r\n      ],\r\n      // operationAddon:record=>{\r\n      //   return (<span><a onClick={()=>{\r\n          \r\n      //   }}>设计</a></span>);\r\n      // },\r\n      form:{\r\n        col:1,\r\n        beforeAdd:formData=>{\r\n          return {status:'1',type:'乒乓'};\r\n        },\r\n        beforeModify:formData=>{\r\n          formData.status=formData.status+'';\r\n          return formData;\r\n        },\r\n        beforeSubmit:formData=>{\r\n          return formData;\r\n        },\r\n        afterSubmit:()=>{\r\n          emitter.emit('init-user-info');\r\n        }\r\n      },\r\n      table:{\r\n        bordered:true,\r\n        size:'small',\r\n        resultHandler:(result,queryParam)=>{\r\n          result.list=result.data.data;\r\n          result.list.forEach(it=>{\r\n            if(it.ext){\r\n              it.staffs=JSON.parse(it.ext).staffs;\r\n            }\r\n          });\r\n          result.totalItem=result.data.totalItem;\r\n        }\r\n      },\r\n      api:{\r\n        queryInterface:{func:urlPrefix+'TrainOperation?opt=queryCoach'},\r\n        updateInterface:isAdmin?{func:urlPrefix+'TrainOperation?opt=updateCoach'}:undefined,\r\n        insertInterface:isAdmin?{func:urlPrefix+'TrainOperation?opt=insertCoach'}:undefined,\r\n        deleteInterface:isAdmin?{func:urlPrefix+'TrainOperation?opt=deleteCoach',params:{id:'id'}}:undefined\r\n      }\r\n    };\r\n    this.state={\r\n    };\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n       <BizComp config={this.config}/>\r\n      </div>\r\n    );\r\n  }\r\n}","import React, { Component } from 'react';\r\nimport {message,Input,Modal,Button,Form,Select,Collapse,Popconfirm,Tooltip,Popover,DatePicker,InputNumber,Tag } from 'antd';\r\nimport { emitter, util } from '../../../common/common';\r\nimport {allRoles,isAdmin,allStaffs,rooms,coaches} from '../../../entry/index/routes/IndexPage';\r\nexport default class BizComponent extends Component {\r\n    constructor(...args) {\r\n        super(...args);\r\n    }\r\n    render() {\r\n        let {name,form,required,onChange,showPrice}=this.props;\r\n        return <>\r\n            <Select {...util.getField.bind(form)('coachId',{onChange,rules:[{required,message:'必填'}]})}>\r\n                {coaches.map(it=>{\r\n                  return <Select.Option key={it.id} value={it.id+''}>{it.name} {showPrice&&<span>[{it.unitPrice}元/小时]</span>}</Select.Option>;\r\n                })}\r\n              </Select>\r\n        </>;\r\n    }\r\n}","import React,{Component} from 'react';\r\nimport {message,Input,Modal,Table,Button,Tooltip,Popover,Icon,Select,Form,InputNumber, DatePicker,Tag,Switch,Checkbox} from 'antd';\r\nimport moment from 'moment';\r\nimport './index.less';\r\nimport copy from 'copy-to-clipboard';\r\nimport {util,emitter} from '../../../common/common';\r\nimport BizComp from '../../../components/common';\r\nimport {urlPrefix,urlProductPrefix} from '../../../interfaces/interfaces';\r\nimport {allRoles,isAdmin,allStaffs,rooms} from '../../../entry/index/routes/IndexPage';\r\nimport MoneyField from '../../common/fields/money';\r\nimport PhoneField from '../../common/fields/phone';\r\nimport Coach from '../../common/fields/coach';\r\nclass BizComponent extends Component {\r\n  constructor(...args) {\r\n  \tsuper(...args);\r\n  \temitter.on('addStudentModal', ()=>{\r\n        let formValues={roomId:rooms.length>0?rooms[0].id+'':undefined,type:'乒乓'};\r\n        this.setState({visible:true,formValues});\r\n      \r\n    });\r\n  \tthis.state={\r\n      formValues:{},\r\n      visible:false\r\n  \t};\r\n  }\r\n\r\n  handleOk=()=>{\r\n    util.validateFields.call(this,async values=>{\r\n      if(values.billType=='按次'&&!values.remainTimes){\r\n        document.querySelector('.form-custom-id-remainTimes .ant-input-number-input').focus();\r\n        return message.info('按次计费必须填写会员次数');\r\n      }\r\n      let existData=await util.ajaxJsonAsync(urlPrefix+'TrainOperation?opt=getStudent',{phone:values.phone});\r\n      if(existData.data&&existData.data[0]){// 已存在学员\r\n        Modal.confirm({\r\n          title:'学员是否合并提醒？',\r\n          content:`通过手机号发现该学员已存在，余额为${existData.data[0].amount}元，是否直接做合并并继续？`,\r\n          onOk:()=>{\r\n            this.doReportStudent(values);\r\n          }\r\n        });\r\n      }else{\r\n        this.doReportStudent(values);\r\n      }\r\n      \r\n    });\r\n  }\r\n  doReportStudent=(values)=>{\r\n    util.ajaxJson(urlPrefix+'TrainOperation?opt=reportStudent', {rec:values}, res=>{\r\n      if(res.success){\r\n        message.success(`开户成功!`);\r\n        this.handleCancel();\r\n      }\r\n    });\r\n  }\r\n\r\n  handleCancel=()=>{\r\n    emitter.emit(`queryStudentTable`, undefined, true);\r\n    this.setState({visible:false});\r\n  }\r\n\r\n  render() {\r\n    let {visible,formValues} = this.state;\r\n  \treturn (<Modal title={`学员报名`} className=\"modal-form\" visible={visible} width={1200} destroyOnClose onCancel={this.handleCancel} maskClosable={false} footer = {\r\n        [<Button key=\"1\" type=\"primary\" size=\"large\" onClick={this.handleOk}>\r\n            报名\r\n         </Button>,\r\n         <Button key=\"2\" type=\"ghost\" size=\"large\" onClick={this.handleCancel}>\r\n            取消\r\n         </Button>]\r\n      }>\r\n          <Form className=\"add-member-modal\">\r\n            <Form.Item className=\"\" label=\"手机号\" required>\r\n                <PhoneField form={this} />\r\n            </Form.Item>\r\n            <Form.Item className=\"memberName-f\" label=\"学员名\" required>\r\n                <Input {...util.getField.call(this,'name',{rules:[{required:true,message:'必填'}]})} />\r\n            </Form.Item>\r\n            <Form.Item className=\"amount-f\" label=\"充值金额(元)\" required>\r\n              <MoneyField form={this} name=\"amount\"/>\r\n            </Form.Item>\r\n            <Form.Item className=\"\" label=\"课程类型\" required>\r\n              <Select {...util.getField.bind(this)('type',{rules:[{required:true,message:'必填'}]})}>\r\n                {[{key:'乒乓',text:'乒乓'}].map(it=>{\r\n                  return <Select.Option key={it.key} value={it.key}>{it.text}</Select.Option>;\r\n                })}\r\n              </Select>\r\n            </Form.Item>\r\n            <Form.Item className=\"\" label=\"教练\" required>\r\n              <Coach form={this} required showPrice/>\r\n            </Form.Item>\r\n            <Form.Item className=\"\" label=\"课时数\" required>\r\n              <InputNumber {...util.getField.call(this,'times',{rules:[{required:true,message:'必填'}]})} min={1} precision={0}/>\r\n            </Form.Item>\r\n            <Form.Item className=\"\" label=\"备注\">\r\n                <Input {...util.getField.call(this,'remark',{})} />\r\n            </Form.Item>\r\n            <Form.Item className=\"\" label=\"球馆\" required>\r\n              <Select {...util.getField.bind(this)('roomId',{rules:[{required:true,message:'必填'}]})}>\r\n                {rooms.map(it=>{\r\n                  return <Select.Option key={it.id} value={it.id+''}>{it.name}</Select.Option>;\r\n                })}\r\n              </Select>\r\n            </Form.Item>\r\n            \r\n          </Form>\r\n      </Modal>);\r\n  }\r\n}\r\n\r\nexport default BizComponent;","import React, { Component } from 'react';\r\nimport {message,Input,Modal,Button,Form,Select,Collapse,Popconfirm,Tooltip,Popover,DatePicker,InputNumber,Tag } from 'antd';\r\nimport { emitter, util } from '../../../common/common';\r\nexport default class BizComponent extends Component {\r\n    constructor(...args) {\r\n        super(...args);\r\n    }\r\n    render() {\r\n        let {name,form,required}=this.props;\r\n        return <>\r\n            <Form.Item className=\"\" label=\"培训大类\" required={required}>\r\n              <Select {...util.getField.bind(form)('type',{rules:[{required,message:'必填'}]})}>\r\n                  {[{key:'乒乓',text:'乒乓'}].map(it=>{\r\n                    return <Select.Option key={it.key} value={it.key}>{it.text}</Select.Option>;\r\n                  })}\r\n                </Select>\r\n            </Form.Item>\r\n            <Form.Item className=\"\" label=\"培训子类\" required={required}>\r\n              <Select {...util.getField.bind(form)('subType',{rules:[{required,message:'必填'}]})}>\r\n                  {['步法','多球','实战'].map(it=>{\r\n                    return <Select.Option key={it} value={it}>{it}</Select.Option>;\r\n                  })}\r\n                </Select>\r\n            </Form.Item>\r\n        </>;\r\n    }\r\n}","import React,{Component} from 'react';\r\nimport {message,Input,Modal,Table,Button,Tooltip,Popover,Icon,Select,Form,InputNumber, DatePicker,Tag,Switch,Checkbox} from 'antd';\r\nimport moment from 'moment';\r\nimport './index.less';\r\nimport copy from 'copy-to-clipboard';\r\nimport {util,emitter} from '../../../common/common';\r\nimport BizComp from '../../../components/common';\r\nimport {urlPrefix,urlProductPrefix} from '../../../interfaces/interfaces';\r\nimport {allRoles,isAdmin,allStaffs,rooms,coaches} from '../../../entry/index/routes/IndexPage';\r\nimport Coach from '../../common/fields/coach';\r\nimport SportType from '../../common/fields/sportType';\r\nclass BizComponent extends Component {\r\n  constructor(...args) {\r\n  \tsuper(...args);\r\n  \temitter.on('studentRecordModal', (rec)=>{\r\n        let formValues={roomId:rooms.length>0?rooms[0].id+'':undefined,consumeTimes:1,studyTime:moment(),type:'乒乓'};\r\n        this.setState({visible:true,formValues,rec});\r\n      \r\n    });\r\n  \tthis.state={\r\n      formValues:{},\r\n      rec:{courses:[]},\r\n      visible:false\r\n  \t};\r\n  }\r\n\r\n  handleOk=()=>{\r\n    util.validateFields.call(this,values=>{\r\n      let {rec} = this.state;\r\n      util.ajaxJson(urlPrefix+'TrainOperation?opt=studentConsume', {...rec,...values}, res=>{\r\n        if(res.success){\r\n          message.success(`消费成功!`);\r\n          this.handleCancel();\r\n        }\r\n      });\r\n    });\r\n  }\r\n\r\n  handleCancel=()=>{\r\n    emitter.emit(`refresh-student-table`);\r\n    this.setState({visible:false});\r\n  }\r\n\r\n  onCoachChange=(v)=>{\r\n    let coach=coaches.filter(it=>it.id==v)[0];\r\n    if(!Coach)return;\r\n    let {formValues}=this.state;\r\n    let times=formValues.consumeTimes||1;\r\n    formValues.consumeAmount=times*coach.unitPrice;\r\n    this.setState({formValues});\r\n  }\r\n\r\n  render() {\r\n    let {visible,formValues,rec} = this.state;\r\n  \treturn (<Modal title={`学员训练登记`} className=\"modal-form\" visible={visible} width={1200} destroyOnClose onCancel={this.handleCancel} maskClosable={false} footer = {\r\n        [<Button key=\"1\" type=\"primary\" size=\"large\" onClick={this.handleOk}>\r\n            消费\r\n         </Button>,\r\n         <Button key=\"2\" type=\"ghost\" size=\"large\" onClick={this.handleCancel}>\r\n            取消\r\n         </Button>]\r\n      }>\r\n          <Form className=\"member-consume-modal\">\r\n            <Form.Item className=\"memberName-f\" label=\"学员名\">\r\n                {rec.name}\r\n            </Form.Item>\r\n            <Form.Item className=\"\" label=\"手机号\">\r\n                {rec.phone}\r\n            </Form.Item>\r\n            <SportType form={this} required/>\r\n            <Form.Item className=\"\" label=\"课程\" required>\r\n              <Select {...util.getField.call(this,'courseId',{onChange:v=>{\r\n                let {formValues}=this.state;\r\n                let {coachId}=rec.courses.filter(it=>it.id+''==v)[0];\r\n                formValues.coachId=coachId+'';\r\n                this.onCoachChange(formValues.coachId);\r\n              }})}>\r\n                {rec.courses.map(it=>{\r\n                  return <Select.Option key={it.id} value={it.id+''}>{coaches.filter(c=>it.coachId==c.id)[0].name}({it.type})</Select.Option>;\r\n                })}\r\n              </Select>\r\n            </Form.Item>\r\n            <Form.Item className=\"\" label=\"教练\" required>\r\n              <Coach form={this} required onChange={this.onCoachChange} showPrice/>\r\n            </Form.Item>\r\n            <Form.Item className=\"\" label=\"课时数\" required>\r\n              <InputNumber {...util.getField.call(this,'consumeTimes',{rules:[{required:true,message:'必填'}]})} min={1} precision={0}/>\r\n            </Form.Item>\r\n            <Form.Item className=\"\" label=\"消费金额(元)\" required>\r\n              <InputNumber {...util.getField.call(this,'consumeAmount',{rules:[{required:true,message:'必填'}]})} min={1} precision={0}/>\r\n            </Form.Item>\r\n            <Form.Item className=\"\" label=\"训练时间\" required>\r\n              <DatePicker {...util.getField.call(this,'studyTime',{rules:[{required:true,message:'必填'}]})} min={1} precision={0}/>\r\n            </Form.Item>\r\n            <Form.Item className=\"\" label=\"球馆\">\r\n              <Select {...util.getField.bind(this)('roomId',{})}>\r\n                {rooms.map(it=>{\r\n                  return <Select.Option key={it.id} value={it.id+''}>{it.name}</Select.Option>;\r\n                })}\r\n              </Select>\r\n            </Form.Item>\r\n            \r\n          </Form>\r\n      </Modal>);\r\n  }\r\n}\r\n\r\nexport default BizComponent;","import React,{Component} from 'react';\r\nimport {message,Input,Modal,Table,Button,Tooltip,Popover,Icon,Select,Upload, Popconfirm} from 'antd';\r\nimport './index.less';\r\nimport copy from 'copy-to-clipboard';\r\nimport {util,emitter} from '../../../common/common';\r\nimport BizComp from '../../../components/common';\r\nimport {urlPrefix,urlProductPrefix} from '../../../interfaces/interfaces';\r\nimport {allRoles,isAdmin,urls,allStaffs,rooms, coaches} from '../../../entry/index/routes/IndexPage';\r\nimport AddStudentModal from './addStudentModal';\r\nimport StudentConsumeModal from './studentConsumeModal';\r\n\r\nexport default class BizComponent extends Component {\r\n  constructor(...args) {\r\n    super(...args);\r\n    emitter.on('refresh-student-table',()=>{\r\n      this.setState({expandedRowKeys:[]},()=>{\r\n        emitter.emit(`queryStudentTable`, undefined, true);\r\n      });\r\n    });\r\n    this.config = {\r\n      title:'学员管理',\r\n      key:'Student',\r\n      dialog:{width:1060},\r\n      delayQueryTable:1000,\r\n      queryCond:{\r\n        conditions:[[{key:'phone'},{key:'name'},{key:'operator'}]],\r\n        extButtons:()=>{\r\n          let extBtns=[<Button key=\"1\" type=\"primary\" size=\"small\" className=\"search-button\" onClick={()=>emitter.emit('addStudentModal')}><Icon type=\"plus\" />学员报名</Button>,\r\n          urls.map(it=>it.code).indexOf('downloadStudent')>-1&&<Popconfirm key=\"export\" title=\"确定要导出吗？\" onConfirm={()=>window.location.href=urlPrefix+'download/TrainOperation?opt=downloadStudent'}><Button size=\"small\" className=\"search-button\"><Icon type=\"download\" />导出</Button></Popconfirm>,\r\n          urls.map(it=>it.code).indexOf('uploadStudent')>-1&&<Upload key=\"file\" name=\"file\" className=\"search-button\" action={urlPrefix+'upload/TrainOperation?opt=uploadStudent'} fileList={this.state.fileList} withCredentials onChange={res=>{\r\n            if (res.file.status=='done') {\r\n              if(res.file.response.success){\r\n                message.success(res.file.response.data);\r\n                emitter.emit(`queryStudentTable`);\r\n              }else{\r\n                message.error(`文件导入失败：${res.file.response.errMsg}`, 20);\r\n              }\r\n            } else if(res.file.status=='error') {\r\n              message.error(`文件上传错误`);\r\n            }\r\n            let {fileList}=res;\r\n            if(fileList&&fileList.length>1)fileList.splice(0,1);\r\n            this.setState({fileList});\r\n          }}>\r\n            <Tooltip title=\"一旦选中文件后即开始导入并生效，请确保excel文件数据的准确性！\"><Button size=\"small\" type=\"danger\"><Icon type=\"upload\" />导入</Button></Tooltip>\r\n          </Upload>];\r\n          return extBtns.filter(it=>!!it);\r\n        },\r\n        beforeQuery:queryParam=>{\r\n          queryParam = queryParam || {};\r\n          this.queryParam=queryParam;\r\n          return queryParam;\r\n        },\r\n        size:'small'\r\n      },\r\n      fields:[\r\n        {\r\n          key:'id',\r\n          rowKey:true,\r\n          notInForm:true,\r\n          notInTable:true,\r\n          label:'id'\r\n        },{\r\n          key:'name',\r\n          width:'10%',\r\n          rules:[{required: true, message: '必填'}],\r\n          label:'学员名'\r\n        },{\r\n          key:'phone',\r\n          width:'10%',\r\n          rules:[{required: true, message: '必填'},{validator:v=>{\r\n            return /^1[0-9]{10}$/.test(v);\r\n          },message:'必须为1开头的11位手机号'}],\r\n          label:'手机号'\r\n        },{\r\n          key:'amount',\r\n          width:'10%',\r\n          rules:[{required: true, message: '必填'}],\r\n          label:'账户余额(元)'\r\n        },{\r\n          key:'courses',\r\n          width:'20%',\r\n          notInForm:true,\r\n          render:(v,r)=>{\r\n            if(r.courses){\r\n            return r.courses.map((it,idx)=><Tooltip key={idx+'c'} title={<span>训练项目：{it.type}<br/>缴费金额(元)：{it.amount}</span>}><a className=\"course-item\">{coaches.filter(c=>it.coachId==c.id)[0].name}({it.times})</a></Tooltip>);\r\n            }\r\n          },\r\n          label:'训练课程'\r\n        },{\r\n          key:'recordCount',\r\n          width:'6%',\r\n          label:'已训练次数'\r\n        },{\r\n          key:'operator',\r\n          width:'6%',\r\n          label:'经办人'\r\n        },{\r\n          key:'gmtCreate',\r\n          notInForm:true,\r\n          width:'10%',\r\n          render:(v,r)=>util.formatDate(v),\r\n          label:'创建时间'\r\n        },{\r\n          key:'gmtModified',\r\n          notInForm:true,\r\n          width:'10%',\r\n          render:(v,r)=>util.formatDate(v),\r\n          label:'修改时间'\r\n        }\r\n      ],\r\n      operationAddon:rec=>{\r\n        let useEmpty=false;\r\n        if(rec.amount<=0){\r\n          useEmpty=true;\r\n        }\r\n        return (<span><a disabled={useEmpty} onClick={()=>{\r\n          emitter.emit('studentRecordModal',rec);\r\n        }}>登记训练</a></span>);\r\n      },\r\n      form:{\r\n        col:1,\r\n        beforeAdd:formData=>{\r\n          return {};\r\n        },\r\n        beforeModify:formData=>{\r\n          return formData;\r\n        },\r\n        beforeSubmit:formData=>{\r\n          formData.ext=JSON.stringify({staffs:formData.staffs});\r\n          delete formData.staffs;\r\n          return formData;\r\n        }\r\n      },\r\n      table:{\r\n        bordered:true,\r\n        size:'small',\r\n        expandedRowKeys:()=>this.state.expandedRowKeys,\r\n        expandIcon:(pops)=>{\r\n          let {expandedRowKeys}=this.state;\r\n          let expanded=expandedRowKeys.indexOf(pops.record.id)>-1;\r\n          if(!pops.record.recordCount)return;\r\n          return <Icon type={expanded?\"minus-square\":\"plus-square\"} onClick={()=>{\r\n            let {expandedRowKeys}=this.state;\r\n            if(expanded){\r\n              expandedRowKeys=[];\r\n            }else{\r\n              expandedRowKeys=[];\r\n              expandedRowKeys.push(pops.record.id); \r\n            }\r\n            this.setState({expandedRowKeys},this.refreshExpandRow);\r\n          }}/>\r\n        },\r\n        expandedRowRender:(record, index, indent, expanded)=>{\r\n          let {recDs}=this.state;\r\n          return <Table className=\"student-rec-table\" columns={[\r\n          {key:'studyTime',dataIndex:'studyTime',title:'训练时间',render:v=>util.formatDate(v)},\r\n          {key:'coachId',dataIndex:'coachId',title:'教练',render:v=>coaches.filter(it=>it.id==v)[0].name},\r\n          {key:'consumeTimes',dataIndex:'consumeTimes',title:'课时数'},\r\n          {key:'consumeAmount',dataIndex:'consumeAmount',title:'消费金额(元)'},\r\n          {key:'snapAmount',dataIndex:'snapAmount',title:'消费后余额(元)'},\r\n          {key:'operator',dataIndex:'operator',title:'经办人'}]} rowKey={r=>r.id} dataSource={recDs.data} pagination={recDs.totalItem<=10?false:{total:recDs.totalItem}} size=\"small\"/>;\r\n        },\r\n        resultHandler:(result,queryParam)=>{\r\n          result.list=result.data.data;\r\n          result.list.forEach(it=>{\r\n          });\r\n          result.totalItem=result.data.totalItem;\r\n        }\r\n      },\r\n      api:{\r\n        queryInterface:{func:urlPrefix+'TrainOperation?opt=queryStudent'},\r\n        // updateInterface:{func:urlPrefix+'TrainOperation?opt=updateStudent'},\r\n        // deleteInterface:{func:urlPrefix+'TrainOperation?opt=deleteStudent',params:{id:'id'}}\r\n      }\r\n    };\r\n    emitter.on('refresh-student-expand',this.refreshExpandRow);\r\n    this.state={\r\n      fileList:[],\r\n      expandedRowKeys:[],\r\n      recDs:{totalItem:0}\r\n    };\r\n  }\r\n\r\n  refreshExpandRow=()=>{\r\n    let {expandedRowKeys}=this.state;\r\n    if(expandedRowKeys&&expandedRowKeys.length>0){\r\n      util.ajaxJson(urlPrefix+'TrainOperation?opt=queryStudentRecord',{memberId:expandedRowKeys[0]},res=>{\r\n        this.setState({recDs:res.data});\r\n      });\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n       <BizComp config={this.config}/>\r\n       <AddStudentModal />\r\n       <StudentConsumeModal />\r\n      </div>\r\n    );\r\n  }\r\n}","import React, { Component } from 'react';\r\nimport { pca, pcaa } from 'area-data';\r\nimport {message,Input,Modal,Button,Form,Select,Collapse,Popconfirm,Tooltip,Popover,DatePicker,InputNumber,Tag } from 'antd';\r\nimport { emitter, util } from '../../../common/common';\r\n// 地点改名\r\nfor(let provK in pca['86']){\r\n    let provName=pca['86'][provK];\r\n    if(provName.indexOf('市')>-1){\r\n        pca['86'][provK]=provName.replace('市','');\r\n        for(let cityK in pcaa[provK]){\r\n            let cityName=pcaa[provK][cityK];\r\n            if(cityName=='市辖区')pcaa[provK][cityK]=provName;\r\n        }\r\n    }\r\n}\r\nexport default class BizComponent extends Component {\r\n    constructor(...args) {\r\n        super(...args);\r\n        this.state = {\r\n            formValues:{}\r\n        };\r\n    }\r\n\r\n    render() {\r\n        let {context}=this.props;\r\n        let {formValues}=context.state;\r\n        if(!formValues)return null;\r\n        let provs=pca['86'],citys={},countys={};\r\n        let {prov,city,county}=formValues;\r\n        if(prov){\r\n            citys=pcaa[prov];\r\n        }\r\n        if(city){\r\n            countys=pcaa[city];\r\n        }\r\n        return <div className=\"area-c\" ref={el=>{\r\n            this.areaUi = el;\r\n        }}>\r\n            <Select {...util.getField.call(context,'prov',{onChange:e=>{\r\n                if(!e){\r\n                    context.state.formValues.city=undefined;\r\n                    context.state.formValues.county=undefined;\r\n                    context.setState({});\r\n                }\r\n                this.props.onChange(e);\r\n            }})} showSearch optionFilterProp=\"en\" placeholder=\"省\" allowClear size=\"small\">{Object.keys(provs).map((it,idx)=><Select.Option key={'prov'+idx} value={it}>{provs[it]}</Select.Option>)}</Select>\r\n            <Select {...util.getField.call(context,'city',{onChange:e=>{\r\n                if(!e){\r\n                    context.state.formValues.county=undefined;\r\n                    context.setState({});\r\n                }\r\n                this.props.onChange(e);\r\n            }})} showSearch optionFilterProp=\"children\" placeholder=\"市\" allowClear size=\"small\">{Object.keys(citys).map((it,idx)=><Select.Option key={'city'+idx} value={it}>{citys[it]}</Select.Option>)}</Select>\r\n            <Select {...util.getField.call(context,'county',{onChange:e=>{\r\n                this.props.onChange(e);\r\n            }})} showSearch optionFilterProp=\"children\" placeholder=\"区\" allowClear size=\"small\">{Object.keys(countys).map((it,idx)=><Select.Option key={'county'+idx} value={it}>{countys[it]}</Select.Option>)}</Select>\r\n        </div>;\r\n    }\r\n}\r\nexport let getDisplayText=(prov,city,county)=>{\r\n    return pca['86'][prov]+(prov&&city?'-'+pcaa[prov][city]:'')+(prov&&city&&county?'-'+pcaa[city][county]:'');\r\n}","import React,{Component} from 'react';\r\nimport {message,Input,Modal,Button,Form,Select,Collapse,Popconfirm,Tooltip,Popover } from 'antd';\r\nimport {util,emitter} from '../../common/common';\r\nimport './index.less';\r\nexport default class CommonComp extends Component {\r\n\tconstructor(...args) {\r\n\t\tsuper(...args);\r\n\t    this.state={formValues:{}};\r\n\t}\r\n\trender(){\r\n\t\tlet {storageItemKey,value,onLoad,onSave,top,left,right,bottom,text,zIndex,position} = this.props;\r\n\t\tstorageItemKey = storageItemKey.replace('.','-');\r\n\t\tlet paramArr = [];\r\n\t    let loadParams = localStorage.getItem(storageItemKey);\r\n\t    if(loadParams){\r\n\t    \tparamArr = JSON.parse(loadParams);\r\n\t    }\r\n\t    let paramArrRevers = [];\r\n\t    for (let i = 0; i < paramArr.length;i++) {\r\n\t    \tparamArrRevers[i] = paramArr[paramArr.length - i - 1];\r\n\t    }\r\n\t    let content = <ul className={`save-btn-pop save-btn-pop-${storageItemKey}`}>\r\n\t  \t\t<li>名称:<Input {...util.getField.bind(this)('saveParamName')}/><Button type=\"primary\" size=\"small\" onClick={()=>{\r\n\t    \t\t\tparamArr.push({name:this.state.formValues.saveParamName,value,t:new Date().getTime()});\r\n\t    \t\t\tif(paramArr.length > 10){\r\n\t    \t\t\t\tparamArr.splice(0,1);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tlet paramsStr=JSON.stringify(paramArr);\r\n\t    \t\t\tlocalStorage.setItem(storageItemKey,paramsStr);\r\n\t\t\t\t\tmessage.success(`保存${text?text:'参数'}成功!`);\r\n\t\t\t\t\tif(onSave)onSave(paramsStr);\r\n\t    \t\t\tthis.setState({...this.state});\r\n\t            }}>保存</Button></li>\r\n\t  \t\t<div>\r\n\t  \t\t{paramArrRevers.map((p,idx)=>{\r\n\t  \t\t\treturn <div className=\"save-item\" key={idx}><a className=\"save-name-label\" title={p.name} onClick={()=>{\r\n\t  \t\t\t\tonLoad(p.value);\r\n\t  \t\t\t}}>{p.name}</a> <span title={p.value}>{util.formatDate(p.t,'MM-dd hh:mm:ss')}</span><Popconfirm title={<div>确定要删除[{p.name}]吗?</div>} onConfirm={()=>{\r\n\t\t\t\t\t    paramArr.splice(paramArr.length-1-idx,1);\r\n\t\t\t\t\t    let paramsStr=JSON.stringify(paramArr);\r\n\t\t\t\t\t\tlocalStorage.setItem(storageItemKey,paramsStr);\r\n\t\t\t\t\t\tif(onSave)onSave(paramsStr);\r\n\t  \t\t\t\t    this.setState({...this.state});\r\n\t  \t\t\t}} okText=\"确定\" cancelText=\"取消\"><a>删除</a></Popconfirm></div>;\r\n\t  \t\t})}\r\n\t  \t\t</div>\r\n\t  \t</ul>;\r\n\t    return <Popover title={`保存&加载${text?text:'参数'}`} content={content} trigger=\"click\"><a style={{top,left,right,bottom,position:position?position:'absolute',zIndex}}>保存{text!==undefined?text:'配置参数'}</a></Popover>;\r\n\t}\r\n}","import React, { Component } from 'react';\r\nimport copy from 'copy-to-clipboard';\r\nimport { emitter, util } from '../../../common/common';\r\nimport {message,Input,Modal,Button,Form,Select,Collapse,Popconfirm,Tooltip,Popover,DatePicker,InputNumber,Tag } from 'antd';\r\nimport './index.less';\r\nimport Area,{getDisplayText} from './area';\r\nimport { pca, pcaa } from 'area-data';\r\nimport { urlPrefix } from '../../../interfaces/interfaces';\r\nimport SaveParams from '../../../components/pops/saveParams';\r\n\r\nexport default class BizComponent extends Component {\r\n    constructor(...args) {\r\n        super(...args);\r\n        emitter.on('do-indicates-search',formValues=>{\r\n            this.setState({formValues},()=>{\r\n                this.doSearch(null,true);\r\n            });\r\n        });\r\n        this.state = {\r\n            formValues:{\r\n                // company_name:'丝芳'\r\n            },\r\n            disableSearch:false\r\n        };\r\n        \r\n    }\r\n\r\n    getIndicates=()=>{// 上层组件调用获取组件的数据\r\n        let {formValues}=this.state;\r\n        let {indicates}=this.props;\r\n        let indicatesMap={};\r\n        for(let k in formValues){\r\n            let indicate=indicates.filter(it=>it.key==k)[0];\r\n            let idx;\r\n            if((idx=k.indexOf('__'))>-1){\r\n                let newK=k.substring(0,idx);\r\n                indicate=indicates.filter(it=>it.key==newK)[0];\r\n                if(!indicate)continue;\r\n                indicatesMap[newK]=[formValues[newK+'__start']||null,formValues[newK+'__end']||null];\r\n                indicatesMap[newK+'--'+indicate.type]=true;\r\n            }else if(Array.isArray(formValues[k])){\r\n                if(!indicate)continue;\r\n                indicatesMap[k]=formValues[k].map(it=>{\r\n                    if(it&&it.valueOf)return it.valueOf();\r\n                    return it;\r\n                });\r\n                indicatesMap[k+'--'+indicate.type]=true;\r\n            }else{\r\n                if(formValues[k]===''||formValues[k]===null||formValues[k]===undefined)continue;\r\n                if(['prov','city','county'].indexOf(k)>-1){\r\n                    let text;\r\n                    if(k=='prov'){\r\n                        text=pca['86'][formValues[k]];\r\n                    }else if(k=='city'){\r\n                        text=pcaa[formValues.prov][formValues[k]];\r\n                    }else{\r\n                        text=pcaa[formValues.city][formValues[k]];\r\n                    }\r\n                    indicatesMap[k]=text;\r\n                }else{\r\n                    if(!indicate)continue;\r\n                    indicatesMap[k]=formValues[k];\r\n                    indicatesMap[k+'--'+indicate.type]=true;\r\n                }   \r\n            }\r\n        }\r\n        return indicatesMap;\r\n    }\r\n\r\n    onChange=e=>{\r\n        this.setState({disableSearch:false});\r\n        this.props.onChange(e);\r\n    }\r\n    doSearch=(e,reserveBtn)=>{\r\n        this.props.onSearch({queryCond:this.getIndicates()});\r\n        this.setState({disableSearch:!reserveBtn});\r\n    }\r\n\r\n    showSearchConds=()=>{\r\n        let {indicates}=this.props;\r\n        let {formValues}=this.state;\r\n        return <ul>{indicates.filter(it=>(!Array.isArray(formValues[it.key])&&formValues[it.key])||formValues[it.key+'__start']||formValues[it.key+'__end']||(Array.isArray(formValues[it.key])&&formValues[it.key].length>0)).map((indicate,idx)=><li key={'s-i-'+idx}>\r\n            <Tag color=\"geekblue\" closable onClose={(e)=>{\r\n                let {formValues}=this.state;\r\n                if(indicate.type=='Area'){\r\n                    formValues['prov']=undefined;\r\n                    formValues['city']=undefined;\r\n                    formValues['county']=undefined;\r\n                }else if(formValues[indicate.key]){\r\n                    formValues[indicate.key]=undefined;\r\n                }else{\r\n                    formValues[indicate.key+'__start']=undefined;\r\n                    formValues[indicate.key+'__end']=undefined;\r\n                }\r\n                this.setState({formValues,disableSearch:false});\r\n                e.stopPropagation();\r\n                e.preventDefault();\r\n            }}>{this.getTagContent(indicate,formValues)}</Tag>\r\n        </li>)}<SaveParams right={80} text=\"搜索条件\" storageItemKey=\"customer-search\" value={formValues} onLoad={values=>{\r\n            this.setState({formValues:values,disableSearch:false});\r\n        }} onSave={this.props.onSaveCond}/><Popconfirm title=\"确定要清除？\" okText=\"确定\" cancelText=\"取消\" onConfirm={()=>{\r\n            this.setState({formValues:{},disableSearch:false});\r\n        }}><a className=\"clear-search-cond\">清除搜索条件</a></Popconfirm></ul>;\r\n    }\r\n    getTagContent=(indicate,formValues)=>{\r\n        let {placeholder,type,key,enums,showTime}=indicate;\r\n        let formValue=formValues[key];\r\n        if(type=='Input'){\r\n            return <span>{placeholder}：{formValue}</span>;\r\n        }else if(type=='Select'){\r\n            if(indicate.multi){\r\n                return <span>{placeholder}：{formValue.map(it=>enums.filter(e=>e.key==it)[0].text).join(',')}</span>;\r\n            }\r\n            return <span>{placeholder}：{(enums.filter(it=>it.key==formValue)[0]||{}).text}</span>;\r\n        }else if(type=='RangePicker'){\r\n            return <span>{placeholder}：{util.formatDate(formValue[0].valueOf(),showTime?undefined:'yyyy-MM-dd')} ~ {util.formatDate(formValue[1].valueOf(),showTime?undefined:'yyyy-MM-dd')}</span>;\r\n        }else if(type=='Range'){\r\n            return <span>{placeholder}：{formValues[key+'__start']} ~ {formValues[key+'__end']}</span>;\r\n        }else if(type=='Area'){\r\n            return <span>{placeholder}：{getDisplayText(formValues.prov,formValues.city,formValues.county)}</span>;\r\n        }\r\n        \r\n    }\r\n\r\n    onCollapse=(keys)=>{\r\n        if(this.props.onCollapse){\r\n            this.props.onCollapse(!keys || keys.length==0);\r\n        }\r\n    }\r\n   \r\n    render() {\r\n        let {indicates}=this.props;\r\n        let {formValues,disableSearch}=this.state;\r\n        return <div className=\"indicates-c\" ref={el=>{\r\n                    this.indicatesUi = el;\r\n                }}>\r\n                <Collapse onChange={this.onCollapse} defaultActiveKey={['1']}>\r\n                    <Collapse.Panel header=\"搜索条件\" key=\"1\">\r\n                    <Form.Item label=\"搜索指标\" className=\"search-label\">\r\n                        <ul>\r\n                            {indicates.map((indicate,idx)=><li key={'indi-it'+idx} className={indicate.type}>\r\n                                {indicate.type=='Input'&&<Input onPressEnter={this.doSearch} {...util.getField.call(this,indicate.key,{onChange:this.onChange})} placeholder={indicate.placeholder} size=\"small\">\r\n                                </Input>}\r\n                                {indicate.type=='Select'&&<Tooltip title={indicate.placeholder} mouseEnterDelay={0.8}><Select {...util.getField.call(this,indicate.key,{onChange:e=>{\r\n                                    if(indicate.onChange)indicate.onChange(e,this);\r\n                                    this.onChange(e);\r\n                                }})} mode={indicate.multi?'multiple':undefined} placeholder={indicate.placeholder} allowClear size=\"small\" {...indicate.props}>\r\n                {indicate.enums.map((enumItem,idx)=><Select.Option key={'enum'+idx} value={enumItem.key}>{enumItem.text}</Select.Option>)}\r\n                                </Select></Tooltip>}\r\n                                {indicate.type=='RangePicker'&&<Tooltip title={indicate.placeholder} mouseEnterDelay={0.8}><DatePicker.RangePicker {...util.getField.call(this,indicate.key,{onChange:this.onChange,mode:'RangePickerDate'})} showTime={indicate.showTime} placeholder={[indicate.placeholder,indicate.placeholder]} size=\"small\">\r\n                                </DatePicker.RangePicker></Tooltip>}\r\n                                {indicate.type=='Range'&&<div className=\"range-c\"><Tooltip title={indicate.placeholder+'起始值'} mouseEnterDelay={0.8}><InputNumber onPressEnter={this.doSearch} {...util.getField.call(this,indicate.key+'__start',{onChange:this.onChange})} placeholder={indicate.placeholder} size=\"small\" precision={indicate.precision}>\r\n                                </InputNumber></Tooltip><i>~</i><Tooltip title={indicate.placeholder+'截止值'} mouseEnterDelay={0.8}><InputNumber {...util.getField.call(this,indicate.key+'__end',{onChange:this.onChange})} placeholder={indicate.placeholder} size=\"small\" precision={indicate.precision}>\r\n                                </InputNumber></Tooltip></div>}\r\n                                {indicate.type=='Area'&&<Area context={this} onChange={this.onChange} placeholder={indicate.placeholder} size=\"small\">\r\n                                </Area>}\r\n                            </li>)}\r\n                        </ul>\r\n                    </Form.Item>\r\n                    <Button type=\"primary\" size=\"small\" className=\"search-btn\" onClick={this.doSearch} disabled={disableSearch}>搜索</Button>\r\n                    <Form.Item label=\"当前搜索条件\" className=\"search-label\">{this.showSearchConds()}</Form.Item>\r\n                    </Collapse.Panel>\r\n                </Collapse>\r\n            </div>;\r\n    }\r\n\r\n}","import React,{Component} from 'react';\r\nimport {message,Input,Modal,Button,Form,Select,Collapse,Popconfirm,Tooltip,Popover,Icon } from 'antd';\r\nimport {util,emitter} from '../../common/common';\r\nimport './index.less';\r\nexport default class CommonComp extends Component {\r\n\tstatic defaultProps={\r\n        type:'Input'\r\n    }\r\n\tconstructor(...args) {\r\n\t\tsuper(...args);\r\n\t\tlet {value}=this.props;\r\n\t    this.state={formValues:{value},status:'label'};\r\n\t}\r\n\tcomponentDidUpdate(preProps){\r\n\t\tif(this.props.value!=preProps.value){\r\n\t\t\tlet {formValues}=this.state;\r\n\t\t\tformValues.value=this.props.value;\r\n\t\t\tthis.setState({formValues});\r\n\t\t}\r\n\t}\r\n\tonEditClick=()=>{\r\n\t\tlet {mask}=this.props;\r\n\t\tlet {formValues}=this.state;\r\n\t\tif(mask&&formValues.value){\r\n\t\t\tformValues.value=formValues.value.substring(0,2);\r\n\t\t}\r\n\t\tthis.setState({status:'edit',formValues});\r\n\t\tsetTimeout(()=>{\r\n\t\t\tif(this.el){\r\n\t\t\t\tthis.el.focus();\r\n\t\t\t}\r\n\t\t},20);\r\n\t}\r\n\r\n\tonBlur=()=>{\r\n\t\tlet {formValues}=this.state;\r\n\t\tthis.props.onBlur(formValues.value);\r\n\t\t// if(!this.props.silence){\r\n\t\t// \tmessage.success('保存成功！');\r\n\t\t// }\r\n\t\tthis.setState({status:'label'});\r\n\t}\r\n\tonCall=()=>{\r\n\t\tlet {formValues}=this.state;\r\n\t\tlet callee=formValues.value;\r\n\t\temitter.emit('call-out-ccc',callee,this);\r\n\t}\r\n\trender(){\r\n\t\tlet {value,type,enums,mask,contactType}=this.props;\r\n\t\tif(contactType=='电话'&&mask===undefined)mask=true;\r\n\t\tlet {status,formValues}=this.state;\r\n\t    return <span className=\"editable-field-c\">\r\n\t\t\t{status=='edit'&&<>\r\n\t\t\t\t{type=='Input'&&<Input ref={el=>{\r\n\t\t\t\t\tthis.el=el;\r\n\t\t\t\t}} {...util.getField.call(this,'value')} onBlur={this.onBlur} onPressEnter={this.onBlur}></Input>}\r\n\t\t\t\t{type=='Select'&&<Select {...util.getField.call(this,'value',{onChange:this.onBlur})}>\r\n\t\t\t\t\t{enums.map(it=><Select.Option key={it.key} value={it.key}>{it.text}</Select.Option>)}\r\n\t\t\t\t</Select>}\r\n\t\t\t</>}\r\n\t\t\t{status=='label'&&<span>{mask?<Popconfirm title={\"确定发起外呼？\"} okText=\"好\" cancelText=\"取消\" onConfirm={this.onCall}><a>{util.tuomin(formValues.value,2)}</a></Popconfirm>:(contactType=='钉钉'?<a href={`dingtalk://dingtalkclient/action/sendmsg?dingtalk_id=${formValues.value}`}>{formValues.value}</a>:(contactType=='旺旺'?<a href={`aliim:sendmsg?toid=cntaobao${formValues.value}`}>{formValues.value}</a>:formValues.value))}\r\n\t\t\t\t{mask&&<Popconfirm title={\"确定修改？敏感字段不会记住原来的值\"} onConfirm={this.onEditClick}><Icon type=\"highlight\"/></Popconfirm>}\r\n\t\t\t\t{!mask&&<Icon type=\"highlight\" onClick={this.onEditClick}/>}\r\n\t\t\t</span>}\r\n\t\t</span>;\r\n\t}\r\n}","import React,{Component} from 'react';\r\nimport {message,Input,Modal,Form,Select,Tag} from 'antd';\r\nimport {util,emitter} from '../../common/common';\r\nimport {Consumer} from './index';\r\nimport EditableField from '../../components/pops/editableField';\r\nexport default class BizComp extends Component {\r\n\r\n\tonChange=()=>{\r\n\t\tlet {formValues} = this.parentContainer.state;\r\n\t\tthis.props.onChange(formValues);\r\n\t}\r\n\r\n\trender(){\r\n\t\treturn <Consumer>\r\n\t\t\t{parentContainer=>{\r\n\t\t\t\tthis.parentContainer = parentContainer;\r\n\t\t\t\tlet {formValues} = parentContainer.state;// 本身就是个立体对象，很直观，但需要指定前缀：从根对象formValues开始(不含根对象)的ognl表达式，推荐方式\r\n\t\t\t\treturn <div className=\"contact-c\">\r\n\t\t\t\t\t  {formValues.contacts&&formValues.contacts.map((contact,idx)=>{\r\n\t\t\t\t\t  \treturn <Tag key={'contact'+idx} className=\"contact-item\" closable onClose={(e)=>{\r\n\t\t\t\t\t\t\te.stopPropagation();\r\n\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\tModal.confirm({\r\n\t\t\t\t\t\t\t\ttitle:'确定删除',\r\n\t\t\t\t\t\t\t\tcontent:'确定删除该联系人？',\r\n\t\t\t\t\t\t\t\tonOk:()=>{\r\n\t\t\t\t\t\t\t\t\tformValues.contacts.splice(idx,1);\r\n\t\t\t\t\t\t\t\t\tparentContainer.setState({formValues});\r\n\t\t\t\t\t\t\t\t\tthis.onChange();\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t  }}>\r\n\t\t\t\t\t  \t\t<Form.Item label=\"联系人姓名\">\r\n\t\t\t\t\t\t  \t\t<Input size=\"small\" onBlur={this.onChange} onPressEnter={this.onChange} {...util.getSubField.bind(parentContainer)(`contacts[${idx}]`,'contactName',contact)}/>\r\n\t\t\t\t\t  \t\t</Form.Item>\r\n\t\t\t\t\t  \t\t<Form.Item label=\"联系方式\">\r\n\t\t\t\t\t\t  \t\t<Select size=\"small\" {...util.getSubField.bind(parentContainer)(`contacts[${idx}]`,'contactType',contact,{rules:[{validator:(v)=>{\r\n\t\t\t\t\t\t  \t\t\treturn !!v;\r\n\t\t\t\t\t\t  \t\t},message:\"必填\"}],onChange:this.onChange})}>\r\n\t\t\t\t\t\t  \t\t\t<Select.Option value=\"电话\">电话</Select.Option>\r\n\t\t\t\t\t\t  \t\t\t<Select.Option value=\"钉钉\">钉钉</Select.Option>\r\n\t\t\t\t\t\t\t\t\t<Select.Option value=\"微信\">微信</Select.Option>\r\n\t\t\t\t\t\t\t\t\t<Select.Option value=\"旺旺\">旺旺</Select.Option>\r\n\t\t\t\t\t\t  \t\t</Select>\r\n\t\t\t\t\t  \t\t</Form.Item>\r\n\t\t\t\t\t\t\t<Form.Item label=\"联系号码\">\r\n\t\t\t\t\t\t\t\t<EditableField onBlur={(v)=>{\r\n\t\t\t\t\t\t\t\t\tcontact.mobile_no=v;\r\n\t\t\t\t\t\t\t\t\tthis.onChange();\r\n\t\t\t\t\t\t\t\t}} onCall={this.props.onCall} value={contact.mobile_no} contactType={contact.contactType}/>\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t<Form.Item label=\"联系人身份\">\r\n\t\t\t\t\t\t  \t\t<Input size=\"small\" onBlur={this.onChange} onPressEnter={this.onChange} {...util.getSubField.bind(parentContainer)(`contacts[${idx}]`,'contactLevel',contact)}/>\r\n\t\t\t\t\t  \t\t</Form.Item>\r\n\t\t\t\t\t  \t</Tag>;\r\n\t\t\t\t\t  })}\r\n\t\t\t\t\t  <a onClick={()=>{\r\n\t\t\t\t\t  \tlet {contacts} = formValues;\r\n\t\t\t\t\t  \tif(!contacts){\r\n\t\t\t\t\t  \t\tcontacts=[];\r\n\t\t\t\t\t  \t\tformValues.contacts = contacts;\r\n\t\t\t\t\t  \t}\r\n\t\t\t\t\t  \tcontacts.push({});\r\n\t\t\t\t\t  \tparentContainer.setState({formValues});\r\n\t\t\t\t\t  }}>添加联系人</a>\r\n\t\t\t\t</div>;\r\n\t\t\t}}\r\n\t\t</Consumer>;\r\n\t}\r\n}\r\n","import React,{Component} from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {message,Input,Modal,Form,Button} from 'antd';\r\nimport './index.less';\r\nimport {util,emitter} from '../../common/common';\r\nimport {prefix} from '../../interfaces/interfaces';\r\nimport Contacts from './contact';\r\nconst BizContext = React.createContext();\r\nexport const {Provider, Consumer} = BizContext;\r\nexport default class BizComponent extends Component {\r\n  constructor(...args) {\r\n    super(...args);\r\n    this.state={\r\n      formValues:{\r\n        contacts:this.props.data||[]\r\n      }\r\n    };\r\n  }\r\n  componentDidUpdate(preProps){\r\n\t\tif(this.props.data!=preProps.data){\r\n\t\t\tlet {formValues}=this.state;\r\n\t\t\tformValues.contacts=this.props.data;\r\n\t\t\tthis.setState({formValues});\r\n\t\t}\r\n  }\r\n\r\n  onChange=formValues=>{\r\n    let contacts;\r\n    if(formValues){\r\n      contacts=formValues.contacts;\r\n    }\r\n    this.props.onChange(contacts);\r\n  }\r\n  \r\n  render() {\r\n    return (\r\n      <Provider value={this}>\r\n        <div className=\"contact-form\">\r\n            <label>联系人信息：</label>\r\n            <Contacts onChange={this.onChange} onCall={this.props.onCall}/>\r\n        </div>\r\n      </Provider>\r\n    );\r\n  }\r\n}","import React,{Component} from 'react';\r\nimport {message,Input,Modal,Table,Button,Tooltip,Popover,Icon,Select,Form,InputNumber, DatePicker,Tag,Switch,Checkbox} from 'antd';\r\nimport moment from 'moment';\r\nimport './index.less';\r\nimport copy from 'copy-to-clipboard';\r\nimport {util,emitter} from '../../../common/common';\r\nimport BizComp from '../../../components/common';\r\nimport {urlPrefix,urlProductPrefix} from '../../../interfaces/interfaces';\r\nimport {allRoles,isAdmin,allStaffs,rooms} from '../../../entry/index/routes/IndexPage';\r\nimport MoneyField from '../../common/fields/money';\r\nimport PhoneField from '../../common/fields/phone';\r\nclass BizComponent extends Component {\r\n  constructor(...args) {\r\n  \tsuper(...args);\r\n  \temitter.on('addMemberModal', ()=>{\r\n        let formValues={roomId:rooms.length>0?rooms[0].id+'':undefined,applyTime:moment(),isVip:true,consumeNow:true};\r\n        this.setState({visible:true,formValues});\r\n      \r\n    });\r\n  \tthis.state={\r\n      formValues:{},\r\n      visible:false\r\n  \t};\r\n  }\r\n\r\n  handleOk=()=>{\r\n    util.validateFields.call(this,values=>{\r\n      if(values.billType=='按次'&&!values.remainTimes){\r\n        document.querySelector('.form-custom-id-remainTimes .ant-input-number-input').focus();\r\n        return message.info('按次计费必须填写会员次数');\r\n      }\r\n      if(values.isVip&&!values.phone)return message.info('正式会员手机号必填');\r\n      values.memberType=!values.isVip?'临时会员':'正式会员';\r\n      util.ajaxJson(urlPrefix+'MemberOperation?opt=insertMember', {rec:values}, res=>{\r\n        if(res.success){\r\n          message.success(`开户成功!`);\r\n          this.handleCancel();\r\n        }\r\n      });\r\n    });\r\n  }\r\n\r\n  handleCancel=()=>{\r\n    emitter.emit(`queryMemberTable`, undefined, true);\r\n    this.setState({visible:false});\r\n  }\r\n\r\n  render() {\r\n    let {visible,formValues} = this.state;\r\n  \treturn (<Modal title={`会员开户`} className=\"modal-form\" visible={visible} width={1200} destroyOnClose onCancel={this.handleCancel} maskClosable={false} footer = {\r\n        [<Button key=\"1\" type=\"primary\" size=\"large\" onClick={this.handleOk}>\r\n            开户\r\n         </Button>,\r\n         <Button key=\"2\" type=\"ghost\" size=\"large\" onClick={this.handleCancel}>\r\n            取消\r\n         </Button>]\r\n      }>\r\n          <Form className=\"add-member-modal\">\r\n            <Form.Item className=\"memberName-f\" label=\"会员名\" required>\r\n                <Input {...util.getField.call(this,'name',{rules:[{required:true,message:'必填'}]})} /> <Switch checkedChildren=\"正式\" unCheckedChildren=\"临时\" {...util.getField.call(this,'isVip',{mode:'checkbox',onChange:checked=>{\r\n                  if(!checked){\r\n                    if(!formValues.name){\r\n                      formValues.name='临时会员-'+util.formatDate(new Date().getTime());\r\n                      formValues.billType='按次';\r\n                      formValues.remainTimes=1;\r\n                    }\r\n                  }else{\r\n                    if(formValues.name&&formValues.name.indexOf('临时会员')==0){\r\n                      formValues.name='';\r\n                    }\r\n                  }\r\n                  if(this.isFormFiledsValid===false)util.validateFields.call(this,()=>{});\r\n                  this.setState({formValues});\r\n                }})} />\r\n            </Form.Item>\r\n            <Form.Item className=\"\" label=\"手机号\" required={formValues.isVip}>\r\n                <PhoneField form={this} required={formValues.isVip}/>\r\n            </Form.Item>\r\n            <Form.Item className=\"amount-f\" label=\"充值金额(元)\" required>\r\n              <MoneyField form={this} name=\"amount\"/>\r\n            </Form.Item>\r\n            <Form.Item className=\"\" label=\"消费类型\" required>\r\n              <Select {...util.getField.bind(this)('billType',{rules:[{required:true,message:'必填'}]})}>\r\n                {[{key:'按次',text:'按次'},{key:'包月',text:'包月'},{key:'包半年',text:'包半年'},{key:'包年',text:'包年'}].map(it=>{\r\n                  return <Select.Option key={it.key} value={it.key}>{it.text}</Select.Option>;\r\n                })}\r\n              </Select>\r\n            </Form.Item>\r\n            {formValues.billType=='按次'&&<Form.Item className=\"\" label=\"会员次数\" required>\r\n                <InputNumber {...util.getField.call(this,'remainTimes')} min={1} precision={0}/>\r\n            </Form.Item>}\r\n            <Form.Item className=\"\" label=\"开始时间\" required>\r\n                <DatePicker {...util.getField.call(this,'applyTime')} /><Checkbox {...util.getField.call(this,'consumeNow',{mode:'checkbox',onChange:checked=>{\r\n                }})}>立即消费</Checkbox>\r\n            </Form.Item>\r\n            <Form.Item className=\"\" label=\"球馆\" required>\r\n              <Select {...util.getField.bind(this)('roomId',{})}>\r\n                {rooms.map(it=>{\r\n                  return <Select.Option key={it.id} value={it.id+''}>{it.name}</Select.Option>;\r\n                })}\r\n              </Select>\r\n            </Form.Item>\r\n            \r\n          </Form>\r\n      </Modal>);\r\n  }\r\n}\r\n\r\nexport default BizComponent;","import React,{Component} from 'react';\r\nimport {message,Input,Modal,Table,Button,Tooltip,Popover,Icon,Select,Form,InputNumber, DatePicker,Tag,Switch,Checkbox} from 'antd';\r\nimport moment from 'moment';\r\nimport './index.less';\r\nimport copy from 'copy-to-clipboard';\r\nimport {util,emitter} from '../../../common/common';\r\nimport BizComp from '../../../components/common';\r\nimport {urlPrefix,urlProductPrefix} from '../../../interfaces/interfaces';\r\nimport {allRoles,isAdmin,allStaffs,rooms} from '../../../entry/index/routes/IndexPage';\r\nclass BizComponent extends Component {\r\n  constructor(...args) {\r\n  \tsuper(...args);\r\n  \temitter.on('memberConsumeModal', (rec)=>{\r\n        let formValues={roomId:rooms.length>0?rooms[0].id+'':undefined,consumeTimes:1};\r\n        this.setState({visible:true,formValues,rec});\r\n      \r\n    });\r\n  \tthis.state={\r\n      formValues:{},\r\n      rec:{},\r\n      visible:false\r\n  \t};\r\n  }\r\n\r\n  handleOk=()=>{\r\n    util.validateFields.call(this,values=>{\r\n      let {rec} = this.state;\r\n      util.ajaxJson(urlPrefix+'MemberOperation?opt=memberConsume', {...rec,...values}, res=>{\r\n        if(res.success){\r\n          message.success(`消费成功!`);\r\n          emitter.emit('refresh-memeber-expand');\r\n          this.handleCancel();\r\n        }\r\n      });\r\n    });\r\n  }\r\n\r\n  handleCancel=()=>{\r\n    emitter.emit(`queryMemberTable`, undefined, true);\r\n    this.setState({visible:false});\r\n  }\r\n\r\n  render() {\r\n    let {visible,formValues,rec} = this.state;\r\n  \treturn (<Modal title={`会员消费`} className=\"modal-form\" visible={visible} width={1200} destroyOnClose onCancel={this.handleCancel} maskClosable={false} footer = {\r\n        [<Button key=\"1\" type=\"primary\" size=\"large\" onClick={this.handleOk}>\r\n            消费\r\n         </Button>,\r\n         <Button key=\"2\" type=\"ghost\" size=\"large\" onClick={this.handleCancel}>\r\n            取消\r\n         </Button>]\r\n      }>\r\n          <Form className=\"member-consume-modal\">\r\n            <Form.Item className=\"memberName-f\" label=\"会员名\">\r\n                {rec.name}\r\n            </Form.Item>\r\n            <Form.Item className=\"\" label=\"手机号\">\r\n                {rec.phone}\r\n            </Form.Item>\r\n            <Form.Item className=\"\" label=\"会员类型\">\r\n                {rec.memberType}\r\n            </Form.Item>\r\n            {rec.billType=='按次'&&<Form.Item className=\"amount-f\" label=\"剩余次数\" required>\r\n              {rec.remainTimes}\r\n            </Form.Item>}\r\n            {rec.billType=='按次'&&<Form.Item className=\"amount-f\" label=\"消费次数\" required>\r\n              <InputNumber {...util.getField.call(this,'consumeTimes',{rules:[{required:true,message:'必填'},{validator:v=>{\r\n                return (+v<=rec.remainTimes);\r\n              },message:'次数不足'}]})} min={1} precision={0}/>\r\n            </Form.Item>}\r\n            \r\n            <Form.Item className=\"\" label=\"球馆\">\r\n              <Select {...util.getField.bind(this)('roomId',{})}>\r\n                {rooms.map(it=>{\r\n                  return <Select.Option key={it.id} value={it.id+''}>{it.name}</Select.Option>;\r\n                })}\r\n              </Select>\r\n            </Form.Item>\r\n            \r\n          </Form>\r\n      </Modal>);\r\n  }\r\n}\r\n\r\nexport default BizComponent;","import React,{Component} from 'react';\r\nimport {message,Input,Modal,Table,Button,Tooltip,Popover,Icon,Select,Upload, Popconfirm} from 'antd';\r\nimport './index.less';\r\nimport copy from 'copy-to-clipboard';\r\nimport {util,emitter} from '../../../common/common';\r\nimport BizComp from '../../../components/common';\r\nimport {urlPrefix,urlProductPrefix} from '../../../interfaces/interfaces';\r\nimport {allRoles,urls,isAdmin,allStaffs,rooms} from '../../../entry/index/routes/IndexPage';\r\nimport AddMemberModal from './addMemberModal';\r\nimport MemberConsumeModal from './memberConsumeModal';\r\n\r\nexport default class BizComponent extends Component {\r\n  constructor(...args) {\r\n    super(...args);\r\n    this.config = {\r\n      title:'会员管理',\r\n      key:'Member',\r\n      dialog:{width:1060},\r\n      delayQueryTable:1000,\r\n      queryCond:{\r\n        conditions:[[{key:'phone'},{key:'name'},{key:'operator'}]],\r\n        extButtons:()=>{\r\n          let extBtns=[<Button key=\"1\" type=\"primary\" size=\"small\" className=\"search-button\" onClick={()=>emitter.emit('addMemberModal')}><Icon type=\"plus\" />新建会员</Button>,urls.map(it=>it.code).indexOf('downloadMember')>-1&&<Popconfirm key=\"export\" title=\"确定要导出吗？\" onConfirm={()=>window.location.href=urlPrefix+'download/MemberOperation?opt=downloadMember'}><Button size=\"small\" className=\"search-button\"><Icon type=\"download\" />导出</Button></Popconfirm>,\r\n          urls.map(it=>it.code).indexOf('uploadMember')>-1&&<Upload key=\"file\" name=\"file\" className=\"search-button\" action={urlPrefix+'upload/MemberOperation?opt=uploadMember'} fileList={this.state.fileList} withCredentials onChange={res=>{\r\n            if (res.file.status=='done') {\r\n              if(res.file.response.success){\r\n                message.success(res.file.response.data);\r\n                emitter.emit(`queryMemberTable`);\r\n              }else{\r\n                message.error(`文件导入失败：${res.file.response.errMsg}`, 20);\r\n              }\r\n            } else if(res.file.status=='error') {\r\n              message.error(`文件上传错误`);\r\n            }\r\n            let {fileList}=res;\r\n            if(fileList&&fileList.length>1)fileList.splice(0,1);\r\n            this.setState({fileList});\r\n          }}>\r\n            <Tooltip title=\"一旦选中文件后即开始导入并生效，请确保excel文件数据的准确性！\"><Button size=\"small\" type=\"danger\"><Icon type=\"upload\" />导入</Button></Tooltip>\r\n          </Upload>];\r\n          return extBtns.filter(it=>!!it);\r\n        },\r\n        beforeQuery:queryParam=>{\r\n          queryParam = queryParam || {};\r\n          this.queryParam=queryParam;\r\n          return queryParam;\r\n        },\r\n        size:'small'\r\n      },\r\n      fields:[\r\n        {\r\n          key:'id',\r\n          rowKey:true,\r\n          notInForm:true,\r\n          notInTable:true,\r\n          label:'id'\r\n        },{\r\n          key:'name',\r\n          width:'10%',\r\n          rules:[{required: true, message: '必填'}],\r\n          label:'会员名'\r\n        },{\r\n          key:'phone',\r\n          width:'10%',\r\n          rules:[{required: true, message: '必填'},{validator:v=>{\r\n            return /^1[0-9]{10}$/.test(v);\r\n          },message:'必须为1开头的11位手机号'}],\r\n          label:'手机号'\r\n        },{\r\n          key:'amount',\r\n          width:'10%',\r\n          rules:[{required: true, message: '必填'}],\r\n          label:'充值金额'\r\n        },{\r\n          key:'billType',\r\n          width:'10%',\r\n          rules:[{required: true, message: '必填'}],\r\n          enums:[{key:'按次',text:'按次'},{key:'包月',text:'包月'},{key:'包半年',text:'包半年'},{key:'包年',text:'包年'}],\r\n          label:'卡计费类型'\r\n        },{\r\n          key:'remainTimes',\r\n          width:'6%',\r\n          label:'剩余次数'\r\n        },{\r\n          key:'memberType',\r\n          width:'6%',\r\n          label:'会员类型'\r\n        },{\r\n          key:'operator',\r\n          width:'6%',\r\n          label:'经办人'\r\n        },{\r\n          key:'applyTime',\r\n          notInForm:true,\r\n          width:'10%',\r\n          render:(v,r)=>util.formatDate(v),\r\n          label:'生效时间'\r\n        },{\r\n          key:'expireTime',\r\n          notInForm:true,\r\n          width:'8%',\r\n          render:(v,r)=>util.formatDate(v,'yyyy-MM-dd'),\r\n          label:'失效时间'\r\n        },{\r\n          key:'gmtCreate',\r\n          notInForm:true,\r\n          width:'10%',\r\n          render:(v,r)=>util.formatDate(v),\r\n          label:'创建时间'\r\n        }\r\n      ],\r\n      operationAddon:rec=>{\r\n        let useEmpty=false;\r\n        if(rec.billType=='按次'){\r\n          if(+rec.remainTimes<=0)\r\n            useEmpty=true;\r\n        }else{\r\n          if(rec.expireTime&&rec.expireTime<new Date().getTime()){\r\n            useEmpty=true;\r\n          }\r\n        }\r\n        return (<span><a disabled={useEmpty} onClick={()=>{\r\n          emitter.emit('memberConsumeModal',rec);\r\n        }}>消费</a></span>);\r\n      },\r\n      form:{\r\n        col:1,\r\n        beforeAdd:formData=>{\r\n          return {};\r\n        },\r\n        beforeModify:formData=>{\r\n          return formData;\r\n        },\r\n        beforeSubmit:formData=>{\r\n          formData.ext=JSON.stringify({staffs:formData.staffs});\r\n          delete formData.staffs;\r\n          return formData;\r\n        }\r\n      },\r\n      table:{\r\n        bordered:true,\r\n        size:'small',\r\n        expandedRowKeys:()=>this.state.expandedRowKeys,\r\n        expandIcon:(pops)=>{\r\n          let {expandedRowKeys}=this.state;\r\n          let expanded=expandedRowKeys.indexOf(pops.record.id)>-1;\r\n          if(!pops.record.recordCount)return;\r\n          return <Icon type={expanded?\"minus-square\":\"plus-square\"} onClick={()=>{\r\n            let {expandedRowKeys}=this.state;\r\n            if(expanded){\r\n              expandedRowKeys=[];\r\n            }else{\r\n              expandedRowKeys=[];\r\n              expandedRowKeys.push(pops.record.id);\r\n            }\r\n            this.setState({expandedRowKeys},this.refreshExpandRow);\r\n          }}/>\r\n        },\r\n        expandedRowRender:(record, index, indent, expanded)=>{\r\n          let {recDs}=this.state;\r\n          return <Table className=\"member-rec-table\" columns={[\r\n          {key:'gmtCreate',dataIndex:'gmtCreate',title:'消费时间',render:v=>util.formatDate(v)},\r\n          {key:'consumeTimes',dataIndex:'consumeTimes',title:'次数'},\r\n          {key:'consumeType',dataIndex:'consumeType',title:'消费类型'},\r\n          {key:'roomId',dataIndex:'roomId',title:'球馆',render:v=>rooms.filter(it=>it.id==v)[0].name},\r\n          {key:'operator',dataIndex:'operator',title:'经办人'}]} rowKey={r=>r.id} dataSource={recDs.data} pagination={recDs.totalItem<=10?false:{total:recDs.totalItem}} size=\"small\"/>;\r\n        },\r\n        resultHandler:(result,queryParam)=>{\r\n          result.list=result.data.data;\r\n          result.list.forEach(it=>{\r\n          });\r\n          result.totalItem=result.data.totalItem;\r\n        }\r\n      },\r\n      api:{\r\n        queryInterface:{func:urlPrefix+'MemberOperation?opt=queryMember'},\r\n        // updateInterface:{func:urlPrefix+'MemberOperation?opt=updateMember'},\r\n        // deleteInterface:{func:urlPrefix+'MemberOperation?opt=deleteMember',params:{id:'id'}}\r\n      }\r\n    };\r\n    emitter.on('refresh-memeber-expand',this.refreshExpandRow);\r\n    this.state={\r\n      fileList:[],\r\n      expandedRowKeys:[],\r\n      recDs:{}\r\n    };\r\n  }\r\n\r\n  refreshExpandRow=()=>{\r\n    let {expandedRowKeys}=this.state;\r\n    if(expandedRowKeys&&expandedRowKeys.length>0){\r\n      util.ajaxJson(urlPrefix+'MemberOperation?opt=queryMemberBill',{memberId:expandedRowKeys[0]},res=>{\r\n        this.setState({recDs:res.data});\r\n      });\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n       <BizComp config={this.config}/>\r\n       <AddMemberModal />\r\n       <MemberConsumeModal />\r\n      </div>\r\n    );\r\n  }\r\n}","// In production, we register a service worker to serve assets from local cache.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on the \"N+1\" visit to a page, since previously\r\n// cached resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\r\n// This link also includes instructions on opting out of this behavior.\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport default function register() {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebookincubator/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Lets check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl);\r\n      } else {\r\n        // Is not local host. Just register service worker\r\n        registerValidSW(swUrl);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the old content will have been purged and\r\n              // the fresh content will have been added to the cache.\r\n              // It's the perfect time to display a \"New content is\r\n              // available; please refresh.\" message in your web app.\r\n              console.log('New content is available; please refresh.');\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      // console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      if (\r\n        response.status === 404 ||\r\n        response.headers.get('content-type').indexOf('javascript') === -1\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './entry/index/routes/IndexPage';\r\nimport registerServiceWorker from './registerServiceWorker';\r\nlet script = document.createElement('script');\r\nscript.src='//at.alicdn.com/t/font_352877_1cp0qxycpxd.js';\r\ndocument.head.appendChild(script);\r\nReactDOM.render(<App />, document.getElementById('sportRoot'));\r\nregisterServiceWorker();\r\n"],"sourceRoot":""}